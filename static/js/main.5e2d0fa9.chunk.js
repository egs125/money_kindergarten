(this.webpackJsonpmoney_kindergarten=this.webpackJsonpmoney_kindergarten||[]).push([[0],{139:function(e,t,n){},140:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(16),r=n.n(a),s=n(50),i=n(23),o=n(21),u=n(19),l=n(174),j=n(181),b=n(182),d=n(183),m=n(178),h=n(179),p=n(180),f=n(8),O=n.n(f),x=n(7),g=n(78),v=(n(116),n(141),n(92)),y=n.n(v),w=g.a.initializeApp({apiKey:"AIzaSyAzs6Ms1RqbTIvU7tfEGRm-7_RUP9VhE0Y",authDomain:"money-kindergarten.firebaseapp.com",projectId:"money-kindergarten",storageBucket:"money-kindergarten.appspot.com",messagingSenderId:"460149110475",appId:"1:460149110475:web:08e53c9599433a04fd8d4e"}),k=(g.a,g.a.firestore()),E=new y.a(w),I=O.a.mark(F),L=O.a.mark(U),N=O.a.mark(z),S=O.a.mark(G),M=O.a.mark(H),C="userInfo/REGISTER",T="userInfo/LOGIN",A="userInfo/LOGOUT",Y="userInfo/SET_USER_LOGIN",P="userInfo/SET_USER_LOGOUT",R="userInfo/FAIL",_="userInfo/FAIL_ON_VALIDATION",B="userInfo/SET_ERROR_MSG",D=function(e){return{type:B,msg:e}};function F(e){var t,n,c,a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.obj,n=t.email,c=t.password,r.next=4,Object(x.call)(E.auth.createUserWithEmailAndPassword,n,c);case 4:return a=r.sent,r.next=7,Object(x.put)({type:Y,user:a});case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(x.put)({type:R,msg:r.t0.message});case 13:case"end":return r.stop()}}),I,null,[[0,9]])}function U(e){var t,n,c,a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.obj,n=t.email,c=t.password,r.next=4,Object(x.call)(E.auth.signInWithEmailAndPassword,n,c);case 4:return a=r.sent,r.next=7,Object(x.put)({type:Y,user:a});case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(x.put)({type:R,msg:r.t0.message});case 13:case"end":return r.stop()}}),L,null,[[0,9]])}function z(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(x.call)(E.auth.signOut);case 3:return e.next=5,Object(x.put)({type:P});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(x.put)({type:R,msg:e.t0.message});case 11:case"end":return e.stop()}}),N,null,[[0,7]])}function G(e){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.put)({type:_,msg:e.msg});case 2:case"end":return t.stop()}}),S)}function H(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.takeEvery)(C,F);case 2:return e.next=4,Object(x.takeEvery)(T,U);case 4:return e.next=6,Object(x.takeEvery)(A,z);case 6:return e.next=8,Object(x.takeEvery)(B,G);case 8:case"end":return e.stop()}}),M)}var W={isLoggedIn:!1,userObj:{},authMsg:{msg:"",isError:!1}};var q=n(3),X=function(){var e=Object(i.g)(),t=Object(o.b)(),n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],s=a[1],f=Object(o.c)((function(e){return{isLoggedIn:e.userInfo.isLoggedIn}})).isLoggedIn,O=function(){s(!r)},x=function(t){O(),e.push("/".concat(t))};return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("nav",{className:"nav-container",children:[f?Object(q.jsx)(l.a,{onClick:O,children:r?Object(q.jsx)(m.a,{}):Object(q.jsx)(h.a,{})}):Object(q.jsx)(l.a,{children:Object(q.jsx)(p.a,{})}),Object(q.jsx)("span",{className:"app-title",children:"\uc7ac\ub9b0\uc774 \uc720\uce58\uc6d0"})]}),r&&Object(q.jsx)("div",{className:"nav-drawer",children:Object(q.jsxs)(j.a,{children:[Object(q.jsx)(b.a,{button:!0,onClick:function(){return x("")},children:Object(q.jsx)("span",{children:"\uc694\uc57d"})}),Object(q.jsx)(b.a,{button:!0,onClick:function(){return x("wishList")},children:Object(q.jsx)("span",{children:"\uc7a5\ubc14\uad6c\ub2c8"})}),Object(q.jsx)(b.a,{button:!0,onClick:function(){return x("expense")},children:Object(q.jsx)("span",{children:"\uc9c0\ucd9c"})}),Object(q.jsx)(b.a,{button:!0,className:"nav-drawer-last-item",onClick:function(){return x("incomes")},children:Object(q.jsx)("span",{children:"\uc218\uc785"})}),f&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(d.a,{}),Object(q.jsx)(b.a,{button:!0,onClick:function(){O(),t({type:A})},children:Object(q.jsx)("span",{children:"\ub85c\uadf8\uc544\uc6c3"})})]})]})})]})},K=n(24),V=n.n(K),J=function(){Object(o.b)();var e=Object(o.c)((function(e){return{userObj:e.userInfo.userObj,wishList:e.wishInfo.wishList}}));e.userObj,e.wishList;return Object(q.jsx)("div",{children:"Home!"})},Q=n(192),Z=n(188),$=n(184),ee=n(185),te=function(e){var t=e.isOnRegister,n=e.email,c=e.password,a=e.toggleRegisterProcess,r=e.onChangeValue,s=e.onPressKey,i=e.handleLogin,o=e.onClickRegisterBtn;return Object(q.jsxs)("div",{className:"auth-container",children:[Object(q.jsxs)("div",{className:"icon-area",children:[Object(q.jsx)($.a,{fontSize:"large"}),Object(q.jsx)(ee.a,{fontSize:"large"}),Object(q.jsx)($.a,{fontSize:"large"})]}),Object(q.jsxs)("div",{className:"input-area",children:[Object(q.jsx)(Q.a,{name:"email",type:"text",label:"Email address",required:!0,value:n,onChange:r,onKeyPress:s}),Object(q.jsx)(Q.a,{id:"password",name:"password",type:"password",label:"password",required:!0,value:c,onChange:r,onKeyPress:s})]}),Object(q.jsxs)("div",{className:"btn-area",children:[Object(q.jsx)(Z.a,{variant:"contained",color:"primary",size:"large",onClick:t?o:i,children:t?"\uc2e0\uaddc \ub4f1\ub85d":"\ub85c\uadf8\uc778"}),Object(q.jsx)("div",{className:"spacing-area"}),Object(q.jsx)(Z.a,{variant:"contained",color:"default",size:"large",onClick:a,children:t?"\ucde8\uc18c":"\uacc4\uc815 \uc0dd\uc131"})]})]})},ne=function(){var e=Object(o.b)(),t=Object(c.useState)(!1),n=Object(u.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),i=Object(u.a)(s,2),l=i[0],j=i[1],b=Object(c.useState)(""),d=Object(u.a)(b,2),m=d[0],h=d[1],p=function(t){return e(function(e){return{type:C,obj:e}}(t))},f=function(t){return e(function(e){return{type:T,obj:e}}(t))},O=function(){var t=!0;return""===l?(e(D("\uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694")),t=!1):""===m&&(e(D("\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694")),t=!1),t},x=function(){O()&&f({email:l,password:m})};return Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(te,{isOnRegister:a,email:l,password:m,toggleRegisterProcess:function(){return r(!a)},onChangeValue:function(e){var t=e.target,n=t.name,c=t.value;"email"===n?j(c):"password"===n&&h(c)},onPressKey:function(e){var t=e.charCode,n=e.target.name;if(13===t)if("email"===n){var c=document.querySelector("#password");c&&c.focus()}else"password"===n&&x()},handleLogin:x,onClickRegisterBtn:function(){O()&&p({email:l,password:m})}})})},ce=n(99),ae=n(40),re=n(31),se=O.a.mark(ve),ie=O.a.mark(ye),oe=O.a.mark(we),ue=O.a.mark(ke),le=O.a.mark(Ee),je="wishInfo/READ",be="wishInfo/REGISTER",de="wishInfo/DELETE",me="wishInfo/UPDATE",he="wishList/SET_WISH_LIST",pe="wishList/SUCCESS",fe="wishList/FAIL",Oe=function(e){return Object(re.a)({type:je},e)},xe=function(e){return{type:be,obj:e}},ge=function(e){return{type:me,obj:e}};function ve(e){var t,n,c;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.userEmail,n=e.month,a.next=4,Object(x.call)(Object(ae.a)(O.a.mark((function e(){var c,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("wishlists").doc(t).collection(n).orderBy("priority","asc").get();case 2:if(c=e.sent,!(a=c.docs)){e.next=8;break}return r=[],a.forEach((function(e){e.exists&&r.push(Object(re.a)({id:e.id},e.data()))})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)}))));case 4:return c=a.sent,a.next=7,Object(x.put)({type:he,wishList:c,month:n});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),se,null,[[0,9]])}function ye(e){var t,n,c,a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.obj,n=t.userEmail,c=t.item,a=t.curYm,r.next=4,Object(x.call)(Object(ae.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.collection("wishlists").doc(n).collection(a).add(c).then((function(e){return e})).catch((function(e){return console.log(e),null})));case 1:case"end":return e.stop()}}),e)}))));case 4:if(!r.sent){r.next=10;break}return r.next=8,Object(x.put)({type:pe,msg:"\ub4f1\ub85d\ud588\uc2b5\ub2c8\ub2e4!"});case 8:r.next=12;break;case 10:return r.next=12,Object(x.put)({type:fe,msg:"\ucc98\ub9ac\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."});case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),console.log(r.t0);case 17:case"end":return r.stop()}}),ie,null,[[0,14]])}function we(e){var t,n,c,a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.obj,n=t.userEmail,c=t.month,a=t.id,r.next=4,Object(x.call)(Object(ae.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.collection("wishlists").doc(n).collection(c).doc(a).delete().then((function(){return!0})).catch((function(e){return console.log(e),!1})));case 1:case"end":return e.stop()}}),e)}))));case 4:if(!r.sent){r.next=12;break}return r.next=8,Object(x.put)({type:pe,msg:"\uc0ad\uc81c\ud588\uc2b5\ub2c8\ub2e4!"});case 8:return r.next=10,Object(x.put)({type:je,userEmail:n,month:c});case 10:r.next=14;break;case 12:return r.next=14,Object(x.put)({type:fe,msg:"\ucc98\ub9ac\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."});case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.log(r.t0);case 19:case"end":return r.stop()}}),oe,null,[[0,16]])}function ke(e){var t,n,c,a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.obj,n=t.userEmail,c=t.item,a=t.curYm,r.next=4,Object(x.call)(Object(ae.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.collection("wishlists").doc(n).collection(a).doc(c.id).update(Object(re.a)({},c)).then((function(){return!0})).catch((function(e){return console.log(e),!1})));case 1:case"end":return e.stop()}}),e)}))));case 4:if(!r.sent){r.next=10;break}return r.next=8,Object(x.put)({type:pe,msg:"\uc218\uc815\ud588\uc2b5\ub2c8\ub2e4!"});case 8:r.next=12;break;case 10:return r.next=12,Object(x.put)({type:fe,msg:"\ucc98\ub9ac\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."});case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),console.log(r.t0);case 17:case"end":return r.stop()}}),ue,null,[[0,14]])}function Ee(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.takeEvery)(be,ye);case 2:return e.next=4,Object(x.takeEvery)(je,ve);case 4:return e.next=6,Object(x.takeEvery)(de,we);case 6:return e.next=8,Object(x.takeEvery)(me,ke);case 8:case"end":return e.stop()}}),le)}var Ie={wishList:[],wishMsg:{msg:"",isError:!1},called:""};function Le(e){var t="";return e&&(t="0"===e.substr(0,1)?e.substr(1,1):e),t}function Ne(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var Se=n(98),Me=n.n(Se),Ce=function(e){var t=e.movePage;return Object(q.jsx)("div",{className:"floating-btn",onClick:t,children:Object(q.jsx)(Me.a,{color:"primary",style:{fontSize:50}})})},Te=n(189),Ae=function(e){var t=e.curWishList,n=e.actionHandler,c=e.showDelBtn,a=e.deleteWishList,r=e.onEventHandler;return Object(q.jsx)(q.Fragment,{children:Object(q.jsx)("div",{className:"item-list-container",children:Array.isArray(t)&&t.map((function(e,t){return Object(q.jsxs)("div",{id:e.id,className:"item-info-container",children:[Object(q.jsxs)("div",Object(re.a)(Object(re.a)({className:"item-info".concat(c===e.id?"-deletable":""),draggable:!0,onTouchStart:function(t){return r(t,e.id)},onTouchEnd:function(t){return r(t,e.id)}},n),{},{children:[Object(q.jsx)("div",{className:"item-text",children:e.itemName}),Object(q.jsx)("div",{children:"".concat(Ne(e.itemPrice),"\uc6d0")})]})),c&&c===e.id&&Object(q.jsx)("div",{className:"icon",children:Object(q.jsx)(l.a,{onClick:function(){return a(e.id)},children:Object(q.jsx)(Te.a,{})})})]},t)}))})})},Ye=n(190),Pe=n(191),Re=function(){var e=Object(i.g)(),t=Object(i.h)(),n=Object(o.b)(),a=Object(o.c)((function(e){return{userObj:e.userInfo.userObj,wishList:e.wishInfo.wishList,called:e.wishInfo.called}})),r=a.userObj,s=a.wishList,j=a.called,b=Object(c.useState)(V()().format("YYYY")),d=Object(u.a)(b,2),m=d[0],h=d[1],p=Object(c.useState)(V()().format("MM")),f=Object(u.a)(p,2),O=f[0],x=f[1],g=Object(c.useState)([]),v=Object(u.a)(g,2),y=v[0],w=v[1],k=Object(c.useState)(0),E=Object(u.a)(k,2),I=E[0],L=E[1],N=Object(c.useState)(!1),S=Object(u.a)(N,2),M=S[0],C=S[1],T=Object(c.useState)({x:"",y:""}),A=Object(u.a)(T,2),Y=A[0],P=A[1],R=function(e){var t="";t="prev"===e?V()("".concat(m,"-").concat(O)).subtract(1,"months"):V()("".concat(m,"-").concat(O)).add(1,"months"),h(V()(t).format("YYYY")),x(V()(t).format("MM"))},_=Object(ce.useSwipeable)({onTap:function(e){return console.log(e)},onSwipedLeft:function(e){return console.log(e)}}),B=Object(c.useCallback)((function(){n(Oe({userEmail:r.user.email,month:V()().format("".concat(m,"-").concat(O))}))}),[m,O,r.user.email]),D=Object(c.useCallback)((function(){var e=Array.isArray(s)?s.reduce((function(e,t){return e+t.itemPrice}),0):0;w(s),L(e)}),[s]),F=function(){""===j||j!=="".concat(m,"-").concat(O)?B():D()};return Object(c.useEffect)((function(){if(t&&t.state&&t.state.targetMonth){var c=t.state.targetMonth.split("-"),a=c[0],s=c[1];e.replace({state:void 0}),a!==m||s!==O?(h(a),x(s),n(Oe({userEmail:r.user.email,month:V()().format("".concat(a,"-").concat(s))}))):F()}else F()}),[O,t]),Object(c.useEffect)((function(){D()}),[s]),Object(q.jsxs)("div",{className:"child-container",children:[Object(q.jsxs)("div",{className:"selected-month-box",children:[Object(q.jsx)("div",{className:"vertical-empty-space"}),Object(q.jsxs)("div",{className:"selected-month-info-box",children:[Object(q.jsx)(l.a,{onClick:function(){return R("prev")},children:Object(q.jsx)(Ye.a,{})}),Object(q.jsxs)("div",{className:"selected-month-texts",children:[Object(q.jsxs)("div",{className:"title",children:[Le(O),"\uc6d4 \uc7a5\ubc14\uad6c\ub2c8"]}),Object(q.jsxs)("div",{className:"amount",children:[Ne(I),"\uc6d0"]})]}),Object(q.jsx)(l.a,{id:"next",onClick:function(){return R("next")},children:Object(q.jsx)(Pe.a,{})})]})]}),Object(q.jsx)(Ae,{curWishList:y,actionHandler:_,showDelBtn:M,deleteWishList:function(e){var t;n((t={userEmail:r.user.email,month:V()().format("".concat(m,"-").concat(O)),id:e},{type:de,obj:t}))},onEventHandler:function(t,n){switch(t.type){case"touchstart":P({x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY});break;case"touchend":var c=t.changedTouches[0].pageX,a=t.changedTouches[0].pageY;if(Y.x===c&&Y.y===a)M===n?function(t){var n=Array.isArray(y)&&y.find((function(e){return e.id===t}));n&&e.push({pathname:"/add",state:{type:"wishList",actionType:"update",targetItem:n,targetMonth:"".concat(m,"-").concat(O)}})}(n):(C(""),P({x:"",y:""}));else{var r=Math.abs(Y.x-t.changedTouches[0].pageX),s=Math.abs(Y.y-t.changedTouches[0].pageY);C(r>s&&M!==n?n:""),P({x:"",y:""})}}}}),Object(q.jsx)(Ce,{movePage:function(){e.push({pathname:"/add",state:{type:"wishList",actionType:"add",targetMonth:"".concat(m,"-").concat(O)}})}})]})},_e=O.a.mark(Ze),Be=O.a.mark($e),De=O.a.mark(et),Fe=O.a.mark(tt),Ue=O.a.mark(nt),ze="incomeInfo/READ",Ge="incomeInfo/REGISTER",He="incomeInfo/DELETE",We="incomeInfo/UPDATE",qe="incomeInfo/SET_INCOME_LIST",Xe="incomeInfo/SUCCESS",Ke="incomeInfo/FAIL",Ve=function(e){return Object(re.a)({type:ze},e)},Je=function(e){return{type:Ge,obj:e}},Qe=function(e){return{type:We,obj:e}};function Ze(e){var t,n,c;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.userEmail,n=e.month,a.next=4,Object(x.call)(Object(ae.a)(O.a.mark((function e(){var c,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("incomes").doc(t).collection(n).get();case 2:if(c=e.sent,!(a=c.docs)){e.next=8;break}return r=[],a.forEach((function(e){e.exists&&r.push(Object(re.a)({id:e.id},e.data()))})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)}))));case 4:return c=a.sent,a.next=7,Object(x.put)({type:qe,incomeList:c,month:n});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),_e,null,[[0,9]])}function $e(e){var t,n,c,a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.obj,n=t.userEmail,c=t.item,a=t.curYm,r.next=4,Object(x.call)(Object(ae.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.collection("incomes").doc(n).collection(a).add(c).then((function(e){return e})).catch((function(e){return console.log(e),null})));case 1:case"end":return e.stop()}}),e)}))));case 4:if(!r.sent){r.next=10;break}return r.next=8,Object(x.put)({type:Xe,msg:"\ub4f1\ub85d\ud588\uc2b5\ub2c8\ub2e4!"});case 8:r.next=12;break;case 10:return r.next=12,Object(x.put)({type:Ke,msg:"\ucc98\ub9ac\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."});case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),console.log(r.t0);case 17:case"end":return r.stop()}}),Be,null,[[0,14]])}function et(e){var t,n,c,a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.obj,n=t.userEmail,c=t.month,a=t.id,r.next=4,Object(x.call)(Object(ae.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.collection("incomes").doc(n).collection(c).doc(a).delete().then((function(){return!0})).catch((function(e){return console.log(e),!1})));case 1:case"end":return e.stop()}}),e)}))));case 4:if(!r.sent){r.next=12;break}return r.next=8,Object(x.put)({type:Xe,msg:"\uc0ad\uc81c\ud588\uc2b5\ub2c8\ub2e4!"});case 8:return r.next=10,Object(x.put)({type:ze,userEmail:n,month:c});case 10:r.next=14;break;case 12:return r.next=14,Object(x.put)({type:Ke,msg:"\ucc98\ub9ac\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."});case 14:r.next=19;break;case 16:r.prev=16,r.t0=r.catch(0),console.log(r.t0);case 19:case"end":return r.stop()}}),De,null,[[0,16]])}function tt(e){var t,n,c,a;return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.obj,n=t.userEmail,c=t.item,a=t.curYm,r.next=4,Object(x.call)(Object(ae.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.collection("incomes").doc(n).collection(a).doc(c.id).update(Object(re.a)({},c)).then((function(){return!0})).catch((function(e){return console.log(e),!1})));case 1:case"end":return e.stop()}}),e)}))));case 4:if(!r.sent){r.next=10;break}return r.next=8,Object(x.put)({type:Xe,msg:"\uc218\uc815\ud588\uc2b5\ub2c8\ub2e4!"});case 8:r.next=12;break;case 10:return r.next=12,Object(x.put)({type:Ke,msg:"\ucc98\ub9ac\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."});case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),console.log(r.t0);case 17:case"end":return r.stop()}}),Fe,null,[[0,14]])}function nt(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.takeEvery)(Ge,$e);case 2:return e.next=4,Object(x.takeEvery)(ze,Ze);case 4:return e.next=6,Object(x.takeEvery)(He,et);case 6:return e.next=8,Object(x.takeEvery)(We,tt);case 8:case"end":return e.stop()}}),Ue)}var ct={incomeList:[],incomeMsg:{msg:"",isError:!1},called:""};var at=function(e){var t=e.curIncomeList,n=e.showDelBtn,c=e.deleteIncomeList,a=e.onEventHandler;return Object(q.jsx)(q.Fragment,{children:Object(q.jsx)("div",{className:"item-list-container",children:Array.isArray(t)&&t.map((function(e,t){return Object(q.jsxs)("div",{id:e.id,className:"item-info-container",children:[Object(q.jsxs)("div",{className:"item-info".concat(n===e.id?"-deletable":""),draggable:!0,onTouchStart:function(t){return a(t,e.id)},onTouchEnd:function(t){return a(t,e.id)},children:[Object(q.jsx)("div",{className:"item-text",children:e.itemTypeName}),Object(q.jsx)("div",{children:"".concat(Ne(e.itemAmount),"\uc6d0")})]}),n&&n===e.id&&Object(q.jsx)("div",{className:"icon",children:Object(q.jsx)(l.a,{onClick:function(){return c(e.id)},children:Object(q.jsx)(Te.a,{})})})]},t)}))})})},rt=function(){var e=Object(i.g)(),t=Object(i.h)(),n=Object(o.b)(),a=Object(o.c)((function(e){return{userObj:e.userInfo.userObj,incomeList:e.incomeInfo.incomeList,called:e.incomeInfo.called}})),r=a.userObj,s=a.incomeList,j=a.called,b=Object(c.useState)(V()().format("YYYY")),d=Object(u.a)(b,2),m=d[0],h=d[1],p=Object(c.useState)(V()().format("MM")),f=Object(u.a)(p,2),O=f[0],x=f[1],g=Object(c.useState)([]),v=Object(u.a)(g,2),y=v[0],w=v[1],k=Object(c.useState)(0),E=Object(u.a)(k,2),I=E[0],L=E[1],N=Object(c.useState)(!1),S=Object(u.a)(N,2),M=S[0],C=S[1],T=Object(c.useState)({x:"",y:""}),A=Object(u.a)(T,2),Y=A[0],P=A[1],R=function(e){var t="";t="prev"===e?V()("".concat(m,"-").concat(O)).subtract(1,"months"):V()("".concat(m,"-").concat(O)).add(1,"months"),h(V()(t).format("YYYY")),x(V()(t).format("MM"))},_=Object(c.useCallback)((function(){n(Ve({userEmail:r.user.email,month:V()().format("".concat(m,"-").concat(O))}))}),[m,O,r.user.email]),B=Object(c.useCallback)((function(){var e=Array.isArray(s)?s.reduce((function(e,t){return e+t.itemAmount}),0):0;w(s),L(e)}),[s]),D=function(){""===j||j!=="".concat(m,"-").concat(O)?_():B()};return Object(c.useEffect)((function(){if(t&&t.state&&t.state.targetMonth){var c=t.state.targetMonth.split("-"),a=c[0],s=c[1];e.replace({state:void 0}),a!==m||s!==O?(h(a),x(s),n(Ve({userEmail:r.user.email,month:V()().format("".concat(a,"-").concat(s))}))):D()}else D()}),[O,t]),Object(c.useEffect)((function(){B()}),[s]),Object(q.jsxs)("div",{className:"child-container",children:[Object(q.jsxs)("div",{className:"selected-month-box",children:[Object(q.jsx)("div",{className:"vertical-empty-space"}),Object(q.jsxs)("div",{className:"selected-month-info-box",children:[Object(q.jsx)(l.a,{onClick:function(){return R("prev")},children:Object(q.jsx)(Ye.a,{})}),Object(q.jsxs)("div",{className:"selected-month-texts",children:[Object(q.jsxs)("div",{className:"title",children:[Le(O),"\uc6d4 \uc218\uc785"]}),Object(q.jsxs)("div",{className:"amount",children:[Ne(I),"\uc6d0"]})]}),Object(q.jsx)(l.a,{id:"next",onClick:function(){return R("next")},children:Object(q.jsx)(Pe.a,{})})]})]}),Object(q.jsx)(at,{curIncomeList:y,showDelBtn:M,deleteIncomeList:function(e){var t;n((t={userEmail:r.user.email,month:V()().format("".concat(m,"-").concat(O)),id:e},{type:He,obj:t}))},onEventHandler:function(t,n){switch(t.type){case"touchstart":P({x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY});break;case"touchend":var c=t.changedTouches[0].pageX,a=t.changedTouches[0].pageY;if(Y.x===c&&Y.y===a)M===n?function(t){var n=Array.isArray(y)&&y.find((function(e){return e.id===t}));n&&e.push({pathname:"/add",state:{type:"incomes",actionType:"update",targetItem:n,targetMonth:"".concat(m,"-").concat(O)}})}(n):(C(""),P({x:"",y:""}));else{var r=Math.abs(Y.x-t.changedTouches[0].pageX),s=Math.abs(Y.y-t.changedTouches[0].pageY);C(r>s&&M!==n?n:""),P({x:"",y:""})}}}}),Object(q.jsx)(Ce,{movePage:function(){e.push({pathname:"/add",state:{type:"incomes",actionType:"add",targetMonth:"".concat(m,"-").concat(O)}})}})]})},st=function(){return Object(q.jsx)("div",{children:"Expense"})},it=n(186),ot=n(196),ut=n(97),lt=function(e){var t=e.type,n=e.item,c=e.onChangeItem,a=e.onClickPrevBtn,r=e.onClickSubmitBtn;return Object(q.jsxs)("div",{className:"item-container",children:[Object(q.jsx)("div",{className:"item-detail",children:"incomes"===t?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(it.a,{fullWidth:!0,children:[Object(q.jsx)(ot.a,{variant:"standard",htmlFor:"item-type-native",children:"\uad6c\ubd84"}),Object(q.jsxs)(ut.a,{defaultValue:30,inputProps:{name:"itemType",id:"item-type-native"},onChange:c,children:[Object(q.jsx)("option",{value:"salary",children:"\uae09\uc5ec"}),Object(q.jsx)("option",{value:"financial",children:"\uae08\uc735 \uc218\uc785"}),Object(q.jsx)("option",{value:"etc",children:"\uae30\ud0c0 \uc218\uc785"})]})]}),Object(q.jsx)(Q.a,{required:!0,name:"itemAmount",label:"\uae08\uc561",value:n.itemAmount,onChange:c}),Object(q.jsx)(Q.a,{name:"remark",label:"\ube44\uace0",value:n.remark,onChange:c})]}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(Q.a,{required:!0,name:"itemName",label:"\ud488\ubaa9\uba85",value:n.itemName,onChange:c}),Object(q.jsx)(Q.a,{required:!0,name:"itemPrice",label:"\uae08\uc561",value:n.itemPrice,onChange:c}),Object(q.jsx)(Q.a,{name:"priority",label:"\uc6b0\uc120\uc21c\uc704",value:n.priority,onChange:c}),Object(q.jsx)(Q.a,{name:"remark",label:"\ube44\uace0",value:n.remark,onChange:c})]})}),Object(q.jsxs)("div",{className:"item-btn-area",children:[Object(q.jsx)(Z.a,{variant:"contained",onClick:a,children:"\ub3cc\uc544\uac00\uae30"}),Object(q.jsx)(Z.a,{variant:"contained",color:"primary",onClick:r,children:"\uc800\uc7a5"})]})]})},jt=function(){var e=Object(o.b)(),t=Object(i.h)(),n=Object(i.g)(),a=t.state,r=a.type,s=a.actionType,l=a.targetItem,j=a.targetMonth,b=Object(o.c)((function(e){return{userObj:e.userInfo.userObj}})).userObj,d=Object(c.useState)((function(){var e={priority:"",itemName:"",itemPrice:0,remark:""};return"incomes"===r&&(delete e.priority,delete e.itemName,delete e.itemPrice,e.itemType="salary",e.itemTypeName="\uae09\uc5ec",e.itemAmount=0),e})),m=Object(u.a)(d,2),h=m[0],p=m[1],f=function(){var e="",t=new Map([["add",xe],["update",ge]]),n=new Map([["add",Je],["update",Qe]]);switch(r){case"wishList":e=t.get(s);break;case"incomes":e=n.get(s)}return e},O=function(){var e={};switch(r){case"wishList":case"incomes":e={userEmail:b.user.email,item:h,curYm:j}}return e};return Object(c.useEffect)((function(){l&&p(l)}),[l,j]),Object(q.jsxs)("div",{className:"child-container",children:[Object(q.jsx)("div",{className:"vertical-empty-space"}),Object(q.jsx)("div",{className:"page-title",children:function(){var e="",t="";switch(r){case"wishList":e="\uc7a5\ubc14\uad6c\ub2c8";break;case"incomes":e="\uc218\uc785"}switch(s){case"add":t="\ucd94\uac00";break;case"update":t="\uc218\uc815"}return"".concat(e," ").concat(t)}()}),Object(q.jsx)(lt,{type:r,item:h,onChangeItem:function(e){var t=e.target,n=t.name,c=t.value,a=Object(re.a)({},h),s=c,i=new Map([["salary","\uae09\uc5ec"],["financial","\uae08\uc735 \uc218\uc785"],["etc","\uae30\ud0c0 \uc218\uc785"]]);switch(n){case"priority":case"itemPrice":case"itemAmount":s=Number(s.replace(/[^0-9]/gi,""));break;case"itemName":case"remark":break;case"itemType":"incomes"===r&&(a.itemTypeName=i.get(c))}a[n]=s,p(a)},onClickPrevBtn:function(){n.push({pathname:"/".concat(r),state:{targetMonth:j}})},onClickSubmitBtn:function(){var t=f(),n=O();e(t(n))}})]})},bt=n(195),dt=n(193),mt=function(){var e=Object(i.g)(),t=Object(o.c)((function(e){return{isLoggedIn:e.userInfo.isLoggedIn,authMsg:e.userInfo.authMsg,wishMsg:e.wishInfo.wishMsg,incomeMsg:e.incomeInfo.incomeMsg}})),n=t.isLoggedIn,a=t.authMsg,r=t.wishMsg,s=t.incomeMsg,l=Object(c.useState)(!1),j=Object(u.a)(l,2),b=j[0],d=j[1],m=Object(c.useState)(""),h=Object(u.a)(m,2),p=h[0],f=h[1],O=Object(c.useState)("error"),x=Object(u.a)(O,2),g=x[0],v=x[1];return Object(c.useEffect)((function(){var t=a.msg,c=a.isError;!n&&"/"===e.location.pathname&&""!==t&&c&&(f(t),d(!0))}),[a.msg]),Object(c.useEffect)((function(){if(r){var e=r.msg,t=r.isError;n&&""!==e&&(f(e),t||v("success"),d(!0))}}),[r,n]),Object(c.useEffect)((function(){if(s){var e=s.msg,t=s.isError;n&&""!==e&&(f(e),t||v("success"),d(!0))}}),[s,n]),Object(q.jsx)(bt.a,{open:b,autoHideDuration:3e3,onClose:function(){return d(!b)},children:Object(q.jsx)(dt.a,{severity:g,elevation:6,variant:"filled",children:p})})},ht=function(){var e=Object(o.c)((function(e){return{isLoggedIn:e.userInfo.isLoggedIn}})).isLoggedIn;return Object(q.jsxs)(s.a,{basename:"/money_kindergarten",children:[Object(q.jsx)(X,{}),Object(q.jsx)(i.d,{children:e?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(i.b,{exact:!0,path:"/",children:Object(q.jsx)(J,{})}),Object(q.jsx)(i.b,{exact:!0,path:"/wishList",children:Object(q.jsx)(Re,{})}),Object(q.jsx)(i.b,{exact:!0,path:"/incomes",children:Object(q.jsx)(rt,{})}),Object(q.jsx)(i.b,{exact:!0,path:"/expense",children:Object(q.jsx)(st,{})}),Object(q.jsx)(i.b,{exact:!0,path:"/add",children:Object(q.jsx)(jt,{})}),Object(q.jsx)(mt,{})]}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(i.b,{exact:!0,path:"/",children:[Object(q.jsx)(ne,{}),Object(q.jsx)(mt,{})]}),Object(q.jsx)(i.a,{to:{pathname:"/"}})]})})]})};n(139);var pt=function(){return Object(q.jsx)("div",{children:Object(q.jsx)(ht,{})})},ft=n(46),Ot=n(57),xt=n(100);var gt={isLoggedIn:!1,userObj:{}};var vt=O.a.mark(yt);function yt(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.all)([H(),Ee(),nt()]);case 2:case"end":return e.stop()}}),vt)}var wt=Object(ft.combineReducers)({userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:case T:case A:return e;case Y:return{isLoggedIn:!0,userObj:t.user,authMsg:{msg:"",isError:!1}};case P:return{isLoggedIn:!1,userObj:{},authMsg:{msg:"",isError:!1}};case R:return{authMsg:{msg:t.msg,isError:!0}};case B:return e;case _:return{authMsg:{msg:t.msg,isError:!0}};default:return e}},moneyInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gt,t=arguments.length>1?arguments[1]:void 0;return t.type,e},wishInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:case je:case de:case me:return e;case he:return{wishList:t.wishList,called:t.month};case pe:return{wishMsg:{msg:t.msg,isError:!1}};case fe:return{wishMsg:{msg:t.msg,isError:!0}};default:return e}},incomeInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:case ze:case He:case We:return e;case qe:return{incomeList:t.incomeList,called:t.month};case Xe:return{incomeMsg:{msg:t.msg,isError:!1}};case Ke:return{incomeMsg:{msg:t.msg,isError:!0}};default:return e}}}),kt=Object(Ot.default)(),Et=Object(ft.createStore)(wt,Object(xt.composeWithDevTools)(Object(ft.applyMiddleware)(kt)));kt.run(yt),r.a.render(Object(q.jsx)(o.a,{store:Et,children:Object(q.jsx)(pt,{})}),document.getElementById("root"))}},[[140,1,2]]]);
//# sourceMappingURL=main.5e2d0fa9.chunk.js.map