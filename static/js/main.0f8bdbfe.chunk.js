(this.webpackJsonpbrown_card=this.webpackJsonpbrown_card||[]).push([[0],{216:function(e,t,n){},218:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(18),r=n.n(a),s=n(60),o=n(27),i=n(26),u=n(20),j=n(259),b=n(266),l=n(267),d=n(268),p=n(263),m=n(264),O=n(265),x=n(11),h=n.n(x),f=n(10),v=n(103),g=(n(151),n(222),n(122)),y=n.n(g),k=v.a.initializeApp({apiKey:"AIzaSyAYZRRWgb7d2Bb3zgS-bVyydmqWTjzX1fg",authDomain:"brown-card.firebaseapp.com",projectId:"brown-card",storageBucket:"brown-card.appspot.com",messagingSenderId:"910679162147",appId:"1:910679162147:web:7c953b3a4396212cb6a096"}),w=(v.a,v.a.firestore()),I=new y.a(k),E=h.a.mark(B),M=h.a.mark(z),S=h.a.mark(U),N=h.a.mark(G),C=h.a.mark(X),L="userInfo/REGISTER",T="userInfo/LOGIN",Y="userInfo/LOGOUT",A="userInfo/SET_USER_LOGIN",P="userInfo/SET_USER_LOGOUT",R="userInfo/FAIL",D="userInfo/FAIL_ON_VALIDATION",_="userInfo/SET_ERROR_MSG",F=function(e){return{type:_,msg:e}};function B(e){var t,n,c,a;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.obj,n=t.email,c=t.password,r.next=4,Object(f.call)(I.auth.createUserWithEmailAndPassword,n,c);case 4:return a=r.sent,r.next=7,Object(f.put)({type:A,user:a});case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(f.put)({type:R,msg:r.t0.message});case 13:case"end":return r.stop()}}),E,null,[[0,9]])}function z(e){var t,n,c,a;return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.obj,n=t.email,c=t.password,r.next=4,Object(f.call)(I.auth.signInWithEmailAndPassword,n,c);case 4:return a=r.sent,r.next=7,Object(f.put)({type:A,user:a});case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(0),r.next=13,Object(f.put)({type:R,msg:r.t0.message});case 13:case"end":return r.stop()}}),M,null,[[0,9]])}function U(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.call)(I.auth.signOut);case 3:return e.next=5,Object(f.put)({type:P});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(f.put)({type:R,msg:e.t0.message});case 11:case"end":return e.stop()}}),S,null,[[0,7]])}function G(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.put)({type:D,msg:e.msg});case 2:case"end":return t.stop()}}),N)}function X(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeEvery)(L,B);case 2:return e.next=4,Object(f.takeEvery)(T,z);case 4:return e.next=6,Object(f.takeEvery)(Y,U);case 6:return e.next=8,Object(f.takeEvery)(_,G);case 8:case"end":return e.stop()}}),C)}var q={isLoggedIn:!1,userObj:{},authMsg:{msg:"",isError:!1}};var W=n(3),K=function(){var e=Object(o.g)(),t=Object(i.b)(),n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],s=a[1],x=Object(i.c)((function(e){return{isLoggedIn:e.userInfo.isLoggedIn}})).isLoggedIn,h=function(){s(!r)},f=function(t){h(),e.push("/".concat(t))};return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("nav",{className:"nav-container",children:[x?Object(W.jsx)(j.a,{onClick:h,children:r?Object(W.jsx)(p.a,{}):Object(W.jsx)(m.a,{})}):Object(W.jsx)(j.a,{children:Object(W.jsx)(O.a,{})}),Object(W.jsx)("span",{className:"app-title",children:"\ube0c\uce74 \uc774\uc6a9\ub0b4\uc5ed\uc11c"})]}),r&&Object(W.jsx)("div",{className:"nav-drawer",children:Object(W.jsxs)(b.a,{children:[Object(W.jsx)(l.a,{button:!0,onClick:function(){return f("")},children:Object(W.jsx)("span",{children:"\uc694\uc57d"})}),Object(W.jsx)(l.a,{button:!0,onClick:function(){return f("expense")},children:Object(W.jsx)("span",{children:"\uc0ac\uc6a9"})}),Object(W.jsx)(l.a,{button:!0,className:"nav-drawer-last-item",onClick:function(){return f("income")},children:Object(W.jsx)("span",{children:"\ucda9\uc804"})}),x&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(d.a,{}),Object(W.jsx)(l.a,{button:!0,onClick:function(){h(),t({type:Y})},children:Object(W.jsx)("span",{children:"\ub85c\uadf8\uc544\uc6c3"})})]})]})})]})},V=n(23),H=n.n(V);function J(e){var t="";return e&&(t="0"===e.substr(0,1)?e.substr(1,1):e),t}function Z(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var Q=n(269),$=n(270),ee=function(){return Object(W.jsx)("div",{children:"hhhh"})},te=function(){Object(i.b)(),Object(i.c)((function(e){return{userObj:e.userInfo.userObj}})).userObj;var e=Object(c.useState)(H()().format("YYYY")),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(H()().format("MM")),s=Object(u.a)(r,2),o=s[0],b=s[1],l=Object(c.useState)(0),d=Object(u.a)(l,2),p=d[0],m=(d[1],function(e){var t="";t="prev"===e?H()("".concat(n,"-").concat(o)).subtract(1,"months"):H()("".concat(n,"-").concat(o)).add(1,"months"),a(H()(t).format("YYYY")),b(H()(t).format("MM"))});return Object(W.jsxs)("div",{className:"child-container",children:[Object(W.jsxs)("div",{className:"selected-month-box",children:[Object(W.jsx)("div",{className:"vertical-empty-space"}),Object(W.jsxs)("div",{className:"selected-month-info-box",children:[Object(W.jsx)(j.a,{onClick:function(){return m("prev")},children:Object(W.jsx)(Q.a,{})}),Object(W.jsxs)("div",{className:"selected-month-texts",children:[Object(W.jsxs)("div",{className:"title",children:[J(o),"\uc6d4 \uc794\uc561"]}),Object(W.jsxs)("div",{className:"amount",children:[Z(p),"\uc6d0"]})]}),Object(W.jsx)(j.a,{id:"next",onClick:function(){return m("next")},children:Object(W.jsx)($.a,{})})]})]}),Object(W.jsx)(ee,{})]})},ne=n(278),ce=n(276),ae=n(271),re=n(272),se=n(273),oe=function(e){var t=e.isOnRegister,n=e.email,c=e.password,a=e.toggleRegisterProcess,r=e.onChangeValue,s=e.onPressKey,o=e.handleLogin,i=e.onClickRegisterBtn;return Object(W.jsxs)("div",{className:"auth-container",children:[Object(W.jsxs)("div",{className:"icon-area",children:[Object(W.jsx)(ae.a,{fontSize:"large"}),Object(W.jsx)(re.a,{fontSize:"large"}),Object(W.jsx)(se.a,{fontSize:"large"})]}),Object(W.jsxs)("div",{className:"input-area",children:[Object(W.jsx)(ne.a,{name:"email",type:"text",label:"Email address",required:!0,value:n,onChange:r,onKeyPress:s}),Object(W.jsx)(ne.a,{id:"password",name:"password",type:"password",label:"password",required:!0,value:c,onChange:r,onKeyPress:s})]}),Object(W.jsxs)("div",{className:"btn-area",children:[Object(W.jsx)(ce.a,{variant:"contained",color:"primary",size:"large",onClick:t?i:o,children:t?"\uc2e0\uaddc \ub4f1\ub85d":"\ub85c\uadf8\uc778"}),Object(W.jsx)("div",{className:"spacing-area"}),Object(W.jsx)(ce.a,{variant:"contained",color:"default",size:"large",onClick:a,children:t?"\ucde8\uc18c":"\uacc4\uc815 \uc0dd\uc131"})]})]})},ie=function(){var e=Object(i.b)(),t=Object(c.useState)(!1),n=Object(u.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(""),o=Object(u.a)(s,2),j=o[0],b=o[1],l=Object(c.useState)(""),d=Object(u.a)(l,2),p=d[0],m=d[1],O=function(t){return e(function(e){return{type:L,obj:e}}(t))},x=function(t){return e(function(e){return{type:T,obj:e}}(t))},h=function(){var t=!0;return""===j?(e(F("\uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694")),t=!1):""===p&&(e(F("\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694")),t=!1),t},f=function(){h()&&x({email:j,password:p})};return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)(oe,{isOnRegister:a,email:j,password:p,toggleRegisterProcess:function(){return r(!a)},onChangeValue:function(e){var t=e.target,n=t.name,c=t.value;"email"===n?b(c):"password"===n&&m(c)},onPressKey:function(e){var t=e.charCode,n=e.target.name;if(13===t)if("email"===n){var c=document.querySelector("#password");c&&c.focus()}else"password"===n&&f()},handleLogin:f,onClickRegisterBtn:function(){h()&&O({email:j,password:p})}})})},ue=n(48),je=n(34),be=h.a.mark(Ie),le=h.a.mark(Ee),de=h.a.mark(Me),pe=h.a.mark(Se),me=h.a.mark(Ne),Oe="incomeInfo/READ",xe="incomeInfo/REGISTER",he="incomeInfo/DELETE",fe="incomeInfo/UPDATE",ve="incomeInfo/SET_INCOME_LIST",ge="incomeInfo/SUCCESS",ye="incomeInfo/FAIL",ke=function(e){return{type:xe,obj:e}},we=function(e){return{type:fe,obj:e}};function Ie(e){var t,n;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.month,c.next=4,Object(f.call)(Object(ue.a)(h.a.mark((function e(){var n,c,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.collection("income").where("ym","==",t).get();case 2:if(n=e.sent,!(c=n.docs)){e.next=8;break}return a=[],c.forEach((function(e){e.exists&&a.push(Object(je.a)({id:e.id},e.data()))})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)}))));case 4:return n=c.sent,c.next=7,Object(f.put)({type:ve,incomeList:n});case 7:c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),console.log(c.t0);case 12:case"end":return c.stop()}}),be,null,[[0,9]])}function Ee(e){var t,n,c;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.obj,n=t.item,c=t.curYm,a.next=4,Object(f.call)(Object(ue.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.collection("income").add(Object(je.a)(Object(je.a)({},n),{},{ym:c})).then((function(e){return e})).catch((function(e){return console.log(e),null})));case 1:case"end":return e.stop()}}),e)}))));case 4:if(!a.sent){a.next=10;break}return a.next=8,Object(f.put)({type:ge,msg:"\ub4f1\ub85d\ud588\uc2b5\ub2c8\ub2e4!"});case 8:a.next=12;break;case 10:return a.next=12,Object(f.put)({type:ye,msg:"\ucc98\ub9ac\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."});case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.log(a.t0);case 17:case"end":return a.stop()}}),le,null,[[0,14]])}function Me(e){var t,n,c;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.obj,n=t.month,c=t.id,a.next=4,Object(f.call)(Object(ue.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.collection("income").doc(c).delete().then((function(){return!0})).catch((function(e){return console.log(e),!1})));case 1:case"end":return e.stop()}}),e)}))));case 4:if(!a.sent){a.next=12;break}return a.next=8,Object(f.put)({type:ge,msg:"\uc0ad\uc81c\ud588\uc2b5\ub2c8\ub2e4!"});case 8:return a.next=10,Object(f.put)({type:Oe,month:n});case 10:a.next=14;break;case 12:return a.next=14,Object(f.put)({type:ye,msg:"\ucc98\ub9ac\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."});case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(0),console.log(a.t0);case 19:case"end":return a.stop()}}),de,null,[[0,16]])}function Se(e){var t;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.obj.item,n.next=4,Object(f.call)(Object(ue.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.collection("income").doc(t.id).update(Object(je.a)({},t)).then((function(){return!0})).catch((function(e){return console.log(e),!1})));case 1:case"end":return e.stop()}}),e)}))));case 4:if(!n.sent){n.next=10;break}return n.next=8,Object(f.put)({type:ge,msg:"\uc218\uc815\ud588\uc2b5\ub2c8\ub2e4!"});case 8:n.next=12;break;case 10:return n.next=12,Object(f.put)({type:ye,msg:"\ucc98\ub9ac\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."});case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.log(n.t0);case 17:case"end":return n.stop()}}),pe,null,[[0,14]])}function Ne(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeEvery)(xe,Ee);case 2:return e.next=4,Object(f.takeEvery)(Oe,Ie);case 4:return e.next=6,Object(f.takeEvery)(he,Me);case 6:return e.next=8,Object(f.takeEvery)(fe,Se);case 8:case"end":return e.stop()}}),me)}var Ce={incomeList:[],incomeMsg:{msg:"",isError:!1}};var Le=n(129),Te=n.n(Le),Ye=function(e){var t=e.movePage;return Object(W.jsx)("div",{className:"floating-btn",onClick:t,children:Object(W.jsx)(Te.a,{color:"primary",style:{fontSize:50}})})},Ae=n(277),Pe=function(e){var t=e.type,n=e.curItemList,c=e.showDelBtn,a=e.deleteItem,r=e.onEventHandler;return Object(W.jsx)(W.Fragment,{children:Object(W.jsx)("div",{className:"item-list-container",children:Array.isArray(n)&&n.map((function(e,n){return Object(W.jsxs)("div",{id:e.id,className:"item-info-container",children:[Object(W.jsxs)("div",{className:"item-info".concat(c===e.id?"-deletable":""),draggable:!0,onTouchStart:function(t){return r(t,e.id)},onTouchEnd:function(t){return r(t,e.id)},children:[Object(W.jsx)("div",{className:"item-text",children:e.itemTypeName}),Object(W.jsx)("div",{children:"".concat(Z("income"===t?e.itemAmount:e.itemPrice),"\uc6d0")})]}),c&&c===e.id&&Object(W.jsx)("div",{className:"icon",children:Object(W.jsx)(j.a,{onClick:function(){return a(e.id)},children:Object(W.jsx)(Ae.a,{})})})]},n)}))})})},Re=function(){var e=Object(o.g)(),t=Object(o.h)(),n=Object(i.b)(),a=Object(i.c)((function(e){return{incomeList:e.incomeInfo.incomeList}})).incomeList,r=Object(c.useState)(H()().format("YYYY")),s=Object(u.a)(r,2),b=s[0],l=s[1],d=Object(c.useState)(H()().format("MM")),p=Object(u.a)(d,2),m=p[0],O=p[1],x=Object(c.useState)([]),h=Object(u.a)(x,2),f=h[0],v=h[1],g=Object(c.useState)(0),y=Object(u.a)(g,2),k=y[0],w=y[1],I=Object(c.useState)(!1),E=Object(u.a)(I,2),M=E[0],S=E[1],N=Object(c.useState)({x:"",y:""}),C=Object(u.a)(N,2),L=C[0],T=C[1],Y=function(e){var t="";t="prev"===e?H()("".concat(b,"-").concat(m)).subtract(1,"months"):H()("".concat(b,"-").concat(m)).add(1,"months"),l(H()(t).format("YYYY")),O(H()(t).format("MM"))},A=Object(c.useCallback)((function(){var e;n((e={month:H()().format("".concat(b,"-").concat(m))},Object(je.a)({type:Oe},e)))}),[b,m]),P=Object(c.useCallback)((function(){var e=Array.isArray(a)?a.reduce((function(e,t){return e+t.itemAmount}),0):0;v(a),w(e)}),[a]);return Object(c.useEffect)((function(){if(t&&t.state&&t.state.targetMonth){var n=t.state.targetMonth.split("-"),c=n[0],a=n[1];e.replace({state:void 0}),l(c),O(a),A()}else A()}),[m,t]),Object(c.useEffect)((function(){P()}),[a]),Object(W.jsxs)("div",{className:"child-container",children:[Object(W.jsxs)("div",{className:"selected-month-box",children:[Object(W.jsx)("div",{className:"vertical-empty-space"}),Object(W.jsxs)("div",{className:"selected-month-info-box",children:[Object(W.jsx)(j.a,{onClick:function(){return Y("prev")},children:Object(W.jsx)(Q.a,{})}),Object(W.jsxs)("div",{className:"selected-month-texts",children:[Object(W.jsxs)("div",{className:"title",children:[J(m),"\uc6d4 \ucda9\uc804\uae08\uc561"]}),Object(W.jsxs)("div",{className:"amount",children:[Z(k),"\uc6d0"]})]}),Object(W.jsx)(j.a,{id:"next",onClick:function(){return Y("next")},children:Object(W.jsx)($.a,{})})]})]}),Object(W.jsx)(Pe,{type:"income",curItemList:f,showDelBtn:M,deleteItem:function(e){var t;n((t={month:H()().format("".concat(b,"-").concat(m)),id:e},{type:he,obj:t}))},onEventHandler:function(t,n){switch(t.type){case"touchstart":T({x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY});break;case"touchend":var c=t.changedTouches[0].pageX,a=t.changedTouches[0].pageY;if(L.x===c&&L.y===a)M?(S(""),T({x:"",y:""})):function(t){var n=Array.isArray(f)&&f.find((function(e){return e.id===t}));n&&e.push({pathname:"/add",state:{type:"income",actionType:"update",targetItem:n,targetMonth:"".concat(b,"-").concat(m)}})}(n);else{var r=Math.abs(L.x-t.changedTouches[0].pageX),s=Math.abs(L.y-t.changedTouches[0].pageY);S(r>s&&M!==n?n:""),T({x:"",y:""})}}}}),Object(W.jsx)(Ye,{movePage:function(){e.push({pathname:"/add",state:{type:"income",actionType:"add",targetMonth:"".concat(b,"-").concat(m)}})}})]})},De=h.a.mark(Ze),_e=h.a.mark(Qe),Fe=h.a.mark($e),Be=h.a.mark(et),ze=h.a.mark(tt),Ue="expenseInfo/READ",Ge="expenseInfo/REGISTER",Xe="expenseInfo/DELETE",qe="expenseInfo/UPDATE",We="expenseInfo/SET_EXPENSE_LIST",Ke="expenseInfo/SUCCESS",Ve="expenseInfo/FAIL",He=function(e){return{type:Ge,obj:e}},Je=function(e){return{type:qe,obj:e}};function Ze(e){var t,n;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.month,c.next=4,Object(f.call)(Object(ue.a)(h.a.mark((function e(){var n,c,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.collection("expense").where("ym","==",t).get();case 2:if(n=e.sent,!(c=n.docs)){e.next=8;break}return a=[],c.forEach((function(e){e.exists&&a.push(Object(je.a)({id:e.id},e.data()))})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)}))));case 4:return n=c.sent,c.next=7,Object(f.put)({type:We,expenseList:n});case 7:c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),console.log(c.t0);case 12:case"end":return c.stop()}}),De,null,[[0,9]])}function Qe(e){var t,n,c;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.obj,n=t.item,c=t.curYm,a.next=4,Object(f.call)(Object(ue.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.collection("expense").add(Object(je.a)(Object(je.a)({},n),{},{ym:c})).then((function(e){return e})).catch((function(e){return console.log(e),null})));case 1:case"end":return e.stop()}}),e)}))));case 4:if(!a.sent){a.next=10;break}return a.next=8,Object(f.put)({type:Ke,msg:"\ub4f1\ub85d\ud588\uc2b5\ub2c8\ub2e4!"});case 8:a.next=12;break;case 10:return a.next=12,Object(f.put)({type:Ve,msg:"\ucc98\ub9ac\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."});case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.log(a.t0);case 17:case"end":return a.stop()}}),_e,null,[[0,14]])}function $e(e){var t,n,c;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.obj,n=t.month,c=t.id,a.next=4,Object(f.call)(Object(ue.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.collection("expense").doc(c).delete().then((function(){return!0})).catch((function(e){return console.log(e),!1})));case 1:case"end":return e.stop()}}),e)}))));case 4:if(!a.sent){a.next=12;break}return a.next=8,Object(f.put)({type:Ke,msg:"\uc0ad\uc81c\ud588\uc2b5\ub2c8\ub2e4!"});case 8:return a.next=10,Object(f.put)({type:Ue,month:n});case 10:a.next=14;break;case 12:return a.next=14,Object(f.put)({type:Ve,msg:"\ucc98\ub9ac\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."});case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(0),console.log(a.t0);case 19:case"end":return a.stop()}}),Fe,null,[[0,16]])}function et(e){var t;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=e.obj.item,n.next=4,Object(f.call)(Object(ue.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",w.collection("expense").doc(t.id).update(Object(je.a)({},t)).then((function(){return!0})).catch((function(e){return console.log(e),!1})));case 1:case"end":return e.stop()}}),e)}))));case 4:if(!n.sent){n.next=10;break}return n.next=8,Object(f.put)({type:Ke,msg:"\uc218\uc815\ud588\uc2b5\ub2c8\ub2e4!"});case 8:n.next=12;break;case 10:return n.next=12,Object(f.put)({type:Ve,msg:"\ucc98\ub9ac\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."});case 12:n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.log(n.t0);case 17:case"end":return n.stop()}}),Be,null,[[0,14]])}function tt(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.takeEvery)(Ge,Qe);case 2:return e.next=4,Object(f.takeEvery)(Ue,Ze);case 4:return e.next=6,Object(f.takeEvery)(Xe,$e);case 6:return e.next=8,Object(f.takeEvery)(qe,et);case 8:case"end":return e.stop()}}),ze)}var nt={incomeList:[],incomeMsg:{msg:"",isError:!1}};var ct=function(){var e=Object(o.g)(),t=Object(o.h)(),n=Object(i.b)(),a=Object(i.c)((function(e){return{expenseList:e.expenseInfo.expenseList}})).expenseList,r=Object(c.useState)(H()().format("YYYY")),s=Object(u.a)(r,2),b=s[0],l=s[1],d=Object(c.useState)(H()().format("MM")),p=Object(u.a)(d,2),m=p[0],O=p[1],x=Object(c.useState)([]),h=Object(u.a)(x,2),f=h[0],v=h[1],g=Object(c.useState)(0),y=Object(u.a)(g,2),k=y[0],w=y[1],I=Object(c.useState)(!1),E=Object(u.a)(I,2),M=E[0],S=E[1],N=Object(c.useState)({x:"",y:""}),C=Object(u.a)(N,2),L=C[0],T=C[1],Y=function(e){var t="";t="prev"===e?H()("".concat(b,"-").concat(m)).subtract(1,"months"):H()("".concat(b,"-").concat(m)).add(1,"months"),l(H()(t).format("YYYY")),O(H()(t).format("MM"))},A=Object(c.useCallback)((function(){var e;n((e={month:H()().format("".concat(b,"-").concat(m))},Object(je.a)({type:Ue},e)))}),[b,m]),P=Object(c.useCallback)((function(){var e=Array.isArray(a)?a.reduce((function(e,t){return e+t.itemPrice}),0):0;v(a),w(e)}),[a]);return Object(c.useEffect)((function(){if(t&&t.state&&t.state.targetMonth){var n=t.state.targetMonth.split("-"),c=n[0],a=n[1];l(c),O(a),e.replace({state:void 0})}A()}),[m,t]),Object(c.useEffect)((function(){P()}),[a]),Object(W.jsxs)("div",{className:"child-container",children:[Object(W.jsxs)("div",{className:"selected-month-box",children:[Object(W.jsx)("div",{className:"vertical-empty-space"}),Object(W.jsxs)("div",{className:"selected-month-info-box",children:[Object(W.jsx)(j.a,{onClick:function(){return Y("prev")},children:Object(W.jsx)(Q.a,{})}),Object(W.jsxs)("div",{className:"selected-month-texts",children:[Object(W.jsxs)("div",{className:"title",children:[J(m),"\uc6d4 \uc0ac\uc6a9\uae08\uc561"]}),Object(W.jsxs)("div",{className:"amount",children:[Z(k),"\uc6d0"]})]}),Object(W.jsx)(j.a,{id:"next",onClick:function(){return Y("next")},children:Object(W.jsx)($.a,{})})]})]}),Object(W.jsx)(Pe,{type:"expense",curItemList:f,showDelBtn:M,deleteItem:function(e){var t;n((t={month:H()().format("".concat(b,"-").concat(m)),id:e},{type:Xe,obj:t}))},onEventHandler:function(t,n){switch(t.type){case"touchstart":T({x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY});break;case"touchend":var c=t.changedTouches[0].pageX,a=t.changedTouches[0].pageY;if(L.x===c&&L.y===a)M?(S(""),T({x:"",y:""})):function(t){var n=Array.isArray(f)&&f.find((function(e){return e.id===t}));n&&e.push({pathname:"/add",state:{type:"expense",actionType:"update",targetItem:n,targetMonth:"".concat(b,"-").concat(m)}})}(n);else{var r=Math.abs(L.x-t.changedTouches[0].pageX),s=Math.abs(L.y-t.changedTouches[0].pageY);S(r>s&&M!==n?n:""),T({x:"",y:""})}}}}),Object(W.jsx)(Ye,{movePage:function(){e.push({pathname:"/add",state:{type:"expense",actionType:"add",targetMonth:"".concat(b,"-").concat(m)}})}})]})},at=n(274),rt=n(282),st=n(128),ot=n(115),it=n.n(ot),ut=(n(173),n(133));Object(ot.registerLocale)("ko",ut.a);var jt=function(e){var t=e.type,n=e.item,c=e.onChangeItem,a=e.onChangeDate,r=e.onClickPrevBtn,s=e.onClickSubmitBtn;return Object(W.jsxs)("div",{className:"item-container",children:[Object(W.jsx)("div",{className:"item-detail",children:"expense"===t?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(at.a,{fullWidth:!0,children:[Object(W.jsx)(rt.a,{variant:"standard",htmlFor:"item-type-native",children:"\uad6c\ubd84"}),Object(W.jsxs)(st.a,{defaultValue:"mart",value:n.itemType,inputProps:{name:"itemType",id:"item-type-native"},onChange:c,children:[Object(W.jsx)("option",{value:"mart",children:"\ub9c8\ud2b8"}),Object(W.jsx)("option",{value:"dineout",children:"\uc678\uc2dd"}),Object(W.jsx)("option",{value:"leisure",children:"\uc5ec\uac00"}),Object(W.jsx)("option",{value:"etc",children:"\uae30\ud0c0"})]})]}),Object(W.jsx)(ne.a,{required:!0,name:"itemPrice",label:"\uae08\uc561",value:n.itemPrice,onChange:c}),Object(W.jsx)(it.a,{locale:"ko",selected:n.date,onChange:a,dateFormat:"yyyy-MM-dd",customInput:Object(W.jsx)(ne.a,{label:"\uc77c\uc790"}),popperModifiers:{preventOverflow:{enabled:!0}},popperPlacement:"auto"}),Object(W.jsx)(ne.a,{name:"remark",label:"\ube44\uace0",value:n.remark,onChange:c})]}):Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(ne.a,{required:!0,name:"itemAmount",label:"\uae08\uc561",value:n.itemAmount,onChange:c}),Object(W.jsx)(ne.a,{name:"remark",label:"\ube44\uace0",value:n.remark,onChange:c})]})}),Object(W.jsxs)("div",{className:"item-btn-area",children:[Object(W.jsx)(ce.a,{variant:"contained",onClick:r,children:"\ub3cc\uc544\uac00\uae30"}),Object(W.jsx)(ce.a,{variant:"contained",color:"primary",onClick:s,children:"\uc800\uc7a5"})]})]})},bt=function(){var e=Object(i.b)(),t=Object(o.h)(),n=Object(o.g)(),a=t.state,r=a.type,s=a.actionType,j=a.targetItem,b=a.targetMonth,l=Object(c.useState)((function(){var e={remark:""};switch(r){case"income":e.itemAmount=0;break;case"expense":e.itemPrice=0,e.date=new Date,e.itemType="mart",e.itemTypeName="\ub9c8\ud2b8"}return e})),d=Object(u.a)(l,2),p=d[0],m=d[1],O=new Map([["mart","\ub9c8\ud2b8"],["dineout","\uc678\uc2dd"],["leisure","\uc5ec\uac00"],["etc","\uae30\ud0c0"]]),x=function(){var e="",t=new Map([["add",ke],["update",we]]),n=new Map([["add",He],["update",Je]]);switch(r){case"income":e=t.get(s);break;case"expense":e=n.get(s)}return e};return Object(c.useEffect)((function(){j&&(j.date=new Date(j.date),m(j))}),[j,b]),Object(W.jsxs)("div",{className:"child-container",children:[Object(W.jsx)("div",{className:"vertical-empty-space"}),Object(W.jsx)("div",{className:"page-title",children:function(){var e,t="",n="",c=b.split("-");switch(e="".concat(c[0],"\ub144 ").concat(Number(c[1]),"\uc6d4"),r){case"income":t="\ucda9\uc804";break;case"expense":t="\uc0ac\uc6a9"}switch(s){case"add":n="\ucd94\uac00";break;case"update":n="\uc218\uc815"}return"".concat(e," ").concat(t," ").concat(n)}()}),Object(W.jsx)(jt,{type:r,item:p,onChangeItem:function(e){var t=e.target,n=t.name,c=t.value,a=Object(je.a)({},p),r=c;switch(n){case"priority":case"itemPrice":case"itemAmount":r=Number(r.replace(/[^0-9]/gi,""));break;case"itemType":a.itemTypeName=O.get(c)}a[n]=r,m(a)},onChangeDate:function(e){var t=Object(je.a)({},p);t.date=e,m(t)},onClickPrevBtn:function(){n.push({pathname:"/".concat(r),state:{targetMonth:b}})},onClickSubmitBtn:function(){var t=Object(je.a)({},p),n=x();if("expense"===r){var c=t.date;t.date=H()(c).format("YYYY-MM-DD")}e(n({item:t,curYm:b}))}})]})},lt=n(281),dt=n(279),pt=function(){var e=Object(o.g)(),t=Object(i.c)((function(e){return{isLoggedIn:e.userInfo.isLoggedIn,authMsg:e.userInfo.authMsg,incomeMsg:e.incomeInfo.incomeMsg,expenseMsg:e.expenseInfo.expenseMsg}})),n=t.isLoggedIn,a=t.authMsg,r=t.incomeMsg,s=t.expenseMsg,j=Object(c.useState)(!1),b=Object(u.a)(j,2),l=b[0],d=b[1],p=Object(c.useState)(""),m=Object(u.a)(p,2),O=m[0],x=m[1],h=Object(c.useState)("error"),f=Object(u.a)(h,2),v=f[0],g=f[1];return Object(c.useEffect)((function(){var t=a.msg,c=a.isError;!n&&"/"===e.location.pathname&&""!==t&&c&&(x(t),d(!0))}),[a.msg]),Object(c.useEffect)((function(){if(r){var e=r.msg,t=r.isError;n&&""!==e&&(x(e),t||g("success"),d(!0))}}),[r,n]),Object(c.useEffect)((function(){if(s){var e=s.msg,t=s.isError;n&&""!==e&&(x(e),t||g("success"),d(!0))}}),[s,n]),Object(W.jsx)(lt.a,{open:l,autoHideDuration:3e3,onClose:function(){return d(!1)},children:Object(W.jsx)(dt.a,{severity:v,elevation:6,variant:"filled",children:O})})},mt=function(){var e=Object(i.c)((function(e){return{isLoggedIn:e.userInfo.isLoggedIn}})).isLoggedIn;return Object(W.jsxs)(s.a,{basename:"/brown_card",children:[Object(W.jsx)(K,{}),Object(W.jsx)(o.d,{children:e?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(o.b,{exact:!0,path:"/",children:Object(W.jsx)(te,{})}),Object(W.jsx)(o.b,{exact:!0,path:"/income",children:Object(W.jsx)(Re,{})}),Object(W.jsx)(o.b,{exact:!0,path:"/expense",children:Object(W.jsx)(ct,{})}),Object(W.jsx)(o.b,{exact:!0,path:"/add",children:Object(W.jsx)(bt,{})}),Object(W.jsx)(pt,{})]}):Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(o.b,{exact:!0,path:"/",children:[Object(W.jsx)(ie,{}),Object(W.jsx)(pt,{})]}),Object(W.jsx)(o.a,{to:{pathname:"/"}})]})})]})};n(216);var Ot=function(){return Object(W.jsx)("div",{children:Object(W.jsx)(mt,{})})},xt=n(56),ht=n(68),ft=n(132),vt=h.a.mark(yt),gt=Object(xt.combineReducers)({userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){default:return e;case A:return{isLoggedIn:!0,userObj:t.user,authMsg:{msg:"",isError:!1}};case P:return{isLoggedIn:!1,userObj:{},authMsg:{msg:"",isError:!1}};case R:case D:return{authMsg:{msg:t.msg,isError:!0}}}},incomeInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){default:return e;case ve:return{incomeList:t.incomeList};case ge:return{incomeMsg:{msg:t.msg,isError:!1}};case ye:return{incomeMsg:{msg:t.msg,isError:!0}}}},expenseInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){default:return e;case We:return{expenseList:t.expenseList};case Ke:return{expenseMsg:{msg:t.msg,isError:!1}};case Ve:return{expenseMsg:{msg:t.msg,isError:!0}}}}});function yt(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.all)([X(),Ne(),tt()]);case 2:case"end":return e.stop()}}),vt)}var kt=gt,wt=Object(ht.default)(),It=Object(xt.createStore)(kt,Object(ft.composeWithDevTools)(Object(xt.applyMiddleware)(wt)));wt.run(yt),r.a.render(Object(W.jsx)(i.a,{store:It,children:Object(W.jsx)(Ot,{})}),document.getElementById("root"))}},[[218,1,2]]]);
//# sourceMappingURL=main.0f8bdbfe.chunk.js.map