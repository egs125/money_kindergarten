(this.webpackJsonpmoney_kindergarten=this.webpackJsonpmoney_kindergarten||[]).push([[0],{134:function(e,t,n){},135:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(16),a=n.n(r),s=n(57),i=n(21),o=n(22),u=n(29),l=n(167),j=n(174),d=n(175),b=n(176),h=n(171),O=n(172),p=n(173),f=n(12),m=n.n(f),x=n(13),v=n(70),g=(n(113),n(136),n(88)),w=n.n(g),y=v.a.initializeApp({apiKey:"AIzaSyAzs6Ms1RqbTIvU7tfEGRm-7_RUP9VhE0Y",authDomain:"money-kindergarten.firebaseapp.com",projectId:"money-kindergarten",storageBucket:"money-kindergarten.appspot.com",messagingSenderId:"460149110475",appId:"1:460149110475:web:08e53c9599433a04fd8d4e"}),k=(v.a,v.a.firestore()),I=new w.a(y),E=m.a.mark(D),L=m.a.mark(Y),S=m.a.mark(W),C=m.a.mark(H),N="userInfo/REGISTER",T="userInfo/LOGIN",P="userInfo/LOGOUT",R="userInfo/SET_USER_LOGIN",A="userInfo/SET_USER_LOGOUT",B=function(e){return{type:T,obj:e}};function D(e){var t,n,c,r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.obj,n=t.email,c=t.password,a.next=4,Object(x.call)(I.auth.createUserWithEmailAndPassword,n,c);case 4:return r=a.sent,a.next=7,Object(x.put)({type:R,user:r});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),E,null,[[0,9]])}function Y(e){var t,n,c,r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.obj,n=t.email,c=t.password,a.next=4,Object(x.call)(I.auth.signInWithEmailAndPassword,n,c);case 4:return r=a.sent,a.next=7,Object(x.put)({type:R,user:r});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),L,null,[[0,9]])}function W(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(x.call)(I.auth.signOut);case 3:return e.next=5,Object(x.put)({type:A});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),S,null,[[0,7]])}function H(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.takeEvery)(N,D);case 2:return e.next=4,Object(x.takeEvery)(T,Y);case 4:return e.next=6,Object(x.takeEvery)(P,W);case 6:case"end":return e.stop()}}),C)}var M={isLoggedIn:!1,userObj:{}};var _=n(3),z=function(){var e=Object(i.g)(),t=Object(o.b)(),n=Object(c.useState)(!1),r=Object(u.a)(n,2),a=r[0],s=r[1],f=Object(o.c)((function(e){return{isLoggedIn:e.userInfo.isLoggedIn}})).isLoggedIn,m=function(){s(!a)},x=function(t){m(),e.push("/".concat(t))};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("nav",{className:"nav-container",children:[f?Object(_.jsx)(l.a,{onClick:m,children:a?Object(_.jsx)(h.a,{}):Object(_.jsx)(O.a,{})}):Object(_.jsx)(l.a,{children:Object(_.jsx)(p.a,{})}),Object(_.jsx)("span",{className:"app-title",children:"\uc7ac\ub9b0\uc774 \uc720\uce58\uc6d0"})]}),a&&Object(_.jsx)("div",{className:"nav-drawer",children:Object(_.jsxs)(j.a,{children:[Object(_.jsx)(d.a,{button:!0,onClick:function(){return x("")},children:Object(_.jsx)("span",{children:"\uc694\uc57d"})}),Object(_.jsx)(d.a,{button:!0,onClick:function(){return x("wishList")},children:Object(_.jsx)("span",{children:"\uc7a5\ubc14\uad6c\ub2c8"})}),Object(_.jsx)(d.a,{button:!0,onClick:function(){return x("expense")},children:Object(_.jsx)("span",{children:"\uc9c0\ucd9c"})}),Object(_.jsx)(d.a,{button:!0,className:"nav-drawer-last-item",onClick:function(){return x("income")},children:Object(_.jsx)("span",{children:"\uc218\uc785"})}),f&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(b.a,{}),Object(_.jsx)(d.a,{button:!0,onClick:function(){m(),t({type:P})},children:Object(_.jsx)("span",{children:"\ub85c\uadf8\uc544\uc6c3"})})]})]})})]})},U=function(e){Object(o.b)();var t=Object(o.c)((function(e){return{isLoggedIn:e.userInfo.isLoggedIn,userObj:e.userInfo.userObj}}));t.isLoggedIn,t.userObj;return Object(_.jsx)("div",{children:"Home!"})},F=n(184),G=n(182),q=n(181),K=n(180),V=n(177),J=n(178),X=function(e){var t=e.isOnRegister,n=e.email,c=e.password,r=e.toggleRegisterProcess,a=e.onChangeValue,s=e.onPressKey,i=e.handleLogin,o=e.onClickRegisterBtn;return Object(_.jsxs)("div",{className:"auth-container",children:[Object(_.jsxs)("div",{className:"icon-area",children:[Object(_.jsx)(V.a,{fontSize:"large"}),Object(_.jsx)(J.a,{fontSize:"large"}),Object(_.jsx)(V.a,{fontSize:"large"})]}),Object(_.jsxs)("div",{className:"input-area",children:[Object(_.jsx)(q.a,{name:"email",type:"text",label:"Email address",required:!0,value:n,onChange:a,onKeyPress:s}),Object(_.jsx)(q.a,{id:"password",name:"password",type:"password",label:"password",required:!0,value:c,onChange:a,onKeyPress:s})]}),Object(_.jsxs)("div",{className:"btn-area",children:[Object(_.jsx)(K.a,{variant:"contained",color:"primary",size:"large",onClick:t?o:i,children:t?"\uc2e0\uaddc \ub4f1\ub85d":"\ub85c\uadf8\uc778"}),Object(_.jsx)("div",{className:"spacing-area"}),Object(_.jsx)(K.a,{variant:"contained",color:"success",size:"large",onClick:r,children:t?"\ucde8\uc18c":"\uacc4\uc815 \uc0dd\uc131"})]})]})},Q=function(){var e=Object(o.b)(),t=Object(c.useState)(!1),n=Object(u.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),i=Object(u.a)(s,2),l=i[0],j=i[1],d=Object(c.useState)(""),b=Object(u.a)(d,2),h=b[0],O=b[1],p=Object(c.useState)(!1),f=Object(u.a)(p,2),m=f[0],x=f[1],v=Object(c.useState)(""),g=Object(u.a)(v,2),w=g[0],y=g[1],k=function(t){return e(function(e){return{type:N,obj:e}}(t))},I=function(){return x(!m)},E=function(){var e=!0;return""===l?(y("\uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"),I(),e=!1):""===h&&(y("\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"),I(),e=!1),e},L=function(){E()&&e(B({email:l,password:h}))};return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(X,{isOnRegister:r,email:l,password:h,toggleRegisterProcess:function(){return a(!r)},onChangeValue:function(e){var t=e.target,n=t.name,c=t.value;"email"===n?j(c):"password"===n&&O(c)},onPressKey:function(e){var t=e.charCode,n=e.target.name;if(13===t)if("email"===n){var c=document.querySelector("#password");c&&c.focus()}else"password"===n&&L()},handleLogin:L,onClickRegisterBtn:function(){E()&&k({email:l,password:h})}}),Object(_.jsx)(F.a,{open:m,autoHideDuration:3e3,onClose:I,children:Object(_.jsx)(G.a,{severity:"error",elevation:6,variant:"filled",children:w})})]})},Z=n(48),$=n.n(Z),ee=n(95),te=n(71),ne=n(38),ce=m.a.mark(pe),re=m.a.mark(fe),ae=m.a.mark(me),se=m.a.mark(xe),ie=m.a.mark(ve),oe="wishInfo/REGISTER",ue="wishInfo/READ",le="wishInfo/DELETE",je="wishInfo/UPDATE",de="wishList/SET_WISH_LIST",be="wishList/SUCCESS",he="wishList/FAIL",Oe=function(e){return{type:oe,obj:e}};function pe(e){var t,n,c,r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.obj,n=t.userEmail,c=t.item,r=t.curYm,a.next=4,Object(x.call)(Object(te.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.collection("wishlists").doc(n).collection(r).add(c).then((function(e){return e})).catch((function(e){return console.log(e),null})));case 1:case"end":return e.stop()}}),e)}))));case 4:if(!a.sent){a.next=10;break}return a.next=8,Object(x.put)({type:be,msg:"\ub4f1\ub85d\ud588\uc2b5\ub2c8\ub2e4!",actionType:"add"});case 8:a.next=12;break;case 10:return a.next=12,Object(x.put)({type:he,msg:"\ucc98\ub9ac\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.",actionType:"add"});case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.log(a.t0);case 17:case"end":return a.stop()}}),ce,null,[[0,14]])}function fe(e){var t,n,c;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.userEmail,n=e.month,r.next=4,Object(x.call)(Object(te.a)(m.a.mark((function e(){var c,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("wishlists").doc(t).collection(n).get();case 2:if(c=e.sent,!(r=c.docs)){e.next=6;break}return e.abrupt("return",r.map((function(e){if(e.exists)return Object(ne.a)({id:e.id},e.data())})));case 6:case"end":return e.stop()}}),e)}))));case 4:return c=r.sent,r.next=7,Object(x.put)({type:de,wishList:c});case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0);case 12:case"end":return r.stop()}}),re,null,[[0,9]])}function me(e){var t,n,c,r;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.obj,n=t.userEmail,c=t.month,r=t.id,a.next=4,Object(x.call)(Object(te.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.collection("wishlists").doc(n).collection(c).doc(r).delete().then((function(){return!0})).catch((function(e){return console.log(e),!1})));case 1:case"end":return e.stop()}}),e)}))));case 4:if(!a.sent){a.next=12;break}return a.next=8,Object(x.put)({type:be,msg:"\uc0ad\uc81c\ud588\uc2b5\ub2c8\ub2e4!",actionType:"delete",id:r});case 8:return a.next=10,Object(x.put)({type:ue,userEmail:n,month:c});case 10:a.next=14;break;case 12:return a.next=14,Object(x.put)({type:he,msg:"\ucc98\ub9ac\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.",actionType:"delete",id:r});case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(0),console.log(a.t0);case 19:case"end":return a.stop()}}),ae,null,[[0,16]])}function xe(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{console.log(e)}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),se)}function ve(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.takeEvery)(oe,pe);case 2:return e.next=4,Object(x.takeEvery)(ue,fe);case 4:return e.next=6,Object(x.takeEvery)(le,me);case 6:return e.next=8,Object(x.takeEvery)(je,xe);case 8:case"end":return e.stop()}}),ie)}var ge={wishList:[],actionObj:{isSucceeded:!1,msg:"",id:"",type:""}};var we=n(93),ye=n.n(we),ke=function(e){var t=e.movePage;return Object(_.jsx)("div",{className:"floating-btn",onClick:t,children:Object(_.jsx)(ye.a,{color:"primary",style:{fontSize:50}})})},Ie=n(94),Ee=n.n(Ie);function Le(e){var t="";return e&&(t="0"===e.substr(0,1)?e.substr(1,1):e),t}function Se(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var Ce=function(e){var t=e.item,n=e.actionHandler,c=e.showDelBtn,r=e.deleteWishList,a=e.onEventHandler;return Object(_.jsxs)("div",{id:t.id,className:"wish-item",children:[Object(_.jsxs)("div",Object(ne.a)(Object(ne.a)({className:"wish-info".concat(c===t.id?"-deletable":""),draggable:!0,onClick:function(e){return a(e,t.id)},onDoubleClick:function(e){return a(e,t.id)},onDragEnd:function(e){return a(e,t.id)},onTouchStart:function(e){return a(e,t.id)},onTouchEnd:function(e){return a(e,t.id)}},n),{},{children:[Object(_.jsx)("div",{className:"name",children:t.itemName}),Object(_.jsx)("div",{className:"price",children:"".concat(Se(t.itemPrice),"\uc6d0")})]})),c&&c===t.id&&Object(_.jsx)("div",{className:"icon",children:Object(_.jsx)(l.a,{onClick:function(){return r(t.id)},children:Object(_.jsx)(Ee.a,{})})})]})},Ne=function(e){var t=e.curMonth,n=e.totalWishAmount,c=e.curWishList,r=e.actionHandler,a=e.showDelBtn,s=e.deleteWishList,i=e.onEventHandler;return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"page-title",children:[Le(t),"\uc6d4 \uc7a5\ubc14\uad6c\ub2c8"]}),Object(_.jsxs)("div",{className:"total-amount",children:[Se(n),"\uc6d0"]}),Array.isArray(c)&&c.map((function(e,t){return Object(_.jsx)(Ce,{item:e,actionHandler:r,showDelBtn:a,deleteWishList:s,onEventHandler:i},t)}))]})},Te=function(){var e=Object(i.g)(),t=Object(o.b)(),n=Object(o.c)((function(e){return{userObj:e.userInfo.userObj,wishList:e.wishInfo.wishList}})),r=n.userObj,a=n.wishList,s=$()().format("YYYY"),l=$()().format("MM"),j=Object(c.useState)([]),d=Object(u.a)(j,2),b=d[0],h=d[1],O=Object(c.useState)(0),p=Object(u.a)(O,2),f=p[0],m=p[1],x=Object(c.useState)(!1),v=Object(u.a)(x,2),g=v[0],w=v[1],y=Object(c.useState)({x:"",y:""}),k=Object(u.a)(y,2),I=k[0],E=k[1],L=Object(ee.useSwipeable)({onTap:function(e){return console.log(e)},onSwipedLeft:function(e){return console.log(e)}});return Object(c.useEffect)((function(){var e;t((e={userEmail:r.user.email,month:$()().format("".concat(s,"-").concat(l))},Object(ne.a)({type:ue},e)))}),[r]),Object(c.useEffect)((function(){var e=Array.isArray(a)?a.reduce((function(e,t){return e+t.itemPrice}),0):0;h(a),m(e)}),[a]),Object(_.jsxs)("div",{className:"child-container",children:[Object(_.jsx)(Ne,{curMonth:l,totalWishAmount:f,curWishList:b,actionHandler:L,showDelBtn:g,deleteWishList:function(e){var n;t((n={userEmail:r.user.email,month:$()().format("".concat(s,"-").concat(l)),id:e},{type:le,obj:n}))},onEventHandler:function(e,t){switch(console.log(e.type),console.log(t),e.type){case"touchstart":E({x:e.changedTouches[0].pageX,y:e.changedTouches[0].pageY});break;case"touchend":var n=Math.abs(I.x-e.changedTouches[0].pageX);Math.abs(I.y-e.changedTouches[0].pageY)>n&&g!==t?w(t):alert("tap???"),E({x:"",y:""})}}}),Object(_.jsx)(ke,{movePage:function(){e.push({pathname:"/add",state:{type:"wishList",actionType:"add"}})}})]})},Pe=m.a.mark(Be),Re=m.a.mark(De),Ae="income/READ";function Be(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{console.log(e)}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),Pe)}function De(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.takeEvery)(Ae,Be);case 2:case"end":return e.stop()}}),Re)}var Ye={incomeObj:{}};var We=function(){var e=Object(o.b)();return Object(c.useEffect)((function(){e(B())}),[]),Object(_.jsx)("div",{children:"income"})},He=function(){return Object(_.jsx)("div",{children:"Expense"})},Me=n(68),_e=function(e){var t=e.item,n=e.onChangeItem,c=e.onClickPrevBtn,r=e.onClickSubmitBtn;return Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{className:"item-detail",children:[Object(_.jsx)(q.a,{required:!0,name:"itemName",label:"\ud488\ubaa9\uba85",value:t.itemName,onChange:n}),Object(_.jsx)(q.a,{required:!0,name:"itemPrice",label:"\uae08\uc561",value:t.itemPrice,onChange:n}),Object(_.jsx)(q.a,{name:"priority",label:"\uc6b0\uc120\uc21c\uc704",value:t.priority,onChange:n}),Object(_.jsx)(q.a,{name:"remark",label:"\ube44\uace0",value:t.remark,onChange:n})]}),Object(_.jsxs)("div",{className:"item-btn-area",children:[Object(_.jsx)(K.a,{variant:"contained",onClick:c,children:"\ub3cc\uc544\uac00\uae30"}),Object(_.jsx)(K.a,{variant:"contained",color:"primary",onClick:r,children:"\uc800\uc7a5"})]})]})},ze=function(){var e=Object(o.b)(),t=Object(i.h)(),n=Object(i.g)(),r=t.state,a=r.type,s=r.actionType,l=Object(o.c)((function(e){return{userObj:e.userInfo.userObj,actionObj:e.wishInfo.actionObj}})),j=l.userObj,d=l.actionObj,b=Object(c.useState)({priority:"",itemName:"",itemPrice:0,remark:""}),h=Object(u.a)(b,2),O=h[0],p=h[1],f=$()().format("YYYY-MM"),m=function(){var e="",t=new Map([["add",Oe]]);switch(a){case"wishList":e=t.get(s)}return e},x=function(){var e={};switch(a){case"wishList":"add"===s&&(e={userEmail:j.user.email,item:O,curYm:f})}return e};return Object(c.useEffect)((function(){if(d){var e=d.type,t=void 0===e?"":e,n=d.isSucceeded,c=void 0!==n&&n,r=d.msg,a=void 0===r?"":r;c&&s===t&&console.log(a)}}),[d]),Object(_.jsxs)("div",{className:"child-container",children:[Object(_.jsx)("div",{className:"page-title",children:function(){var e="",t="";switch(a){case"wishList":e="\uc7a5\ubc14\uad6c\ub2c8"}switch(s){case"add":t="\ucd94\uac00"}return"".concat(e," ").concat(t)}()}),Object(_.jsx)(_e,{item:O,onChangeItem:function(e){var t=e.target,n=t.name,c=t.value;switch(n){case"priority":case"itemPrice":c=Number(c.replace(/[^0-9]/gi,""))}p(Object(ne.a)(Object(ne.a)({},O),{},Object(Me.a)({},n,c)))},onClickPrevBtn:function(){n.push("/".concat(a))},onClickSubmitBtn:function(){var t=m(),n=x();e(t(n))}})]})},Ue=function(){var e=Object(o.c)((function(e){return{isLoggedIn:e.userInfo.isLoggedIn}})).isLoggedIn;return Object(_.jsxs)(s.a,{basename:"/money_kindergarten",children:[Object(_.jsx)(z,{}),Object(_.jsx)(i.d,{children:e?Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(i.b,{exact:!0,path:"/",children:Object(_.jsx)(U,{})}),Object(_.jsx)(i.b,{exact:!0,path:"/wishList",children:Object(_.jsx)(Te,{})}),Object(_.jsx)(i.b,{exact:!0,path:"/income",children:Object(_.jsx)(We,{})}),Object(_.jsx)(i.b,{exact:!0,path:"/expense",children:Object(_.jsx)(He,{})}),Object(_.jsx)(i.b,{exact:!0,path:"/add",children:Object(_.jsx)(ze,{})})]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(i.b,{exact:!0,path:"/",children:Object(_.jsx)(Q,{})}),Object(_.jsx)(i.a,{to:{pathname:"/"}})]})})]})};n(134);var Fe=function(){return Object(_.jsx)("div",{children:Object(_.jsx)(Ue,{})})},Ge=n(42),qe=n(49),Ke=n(96);var Ve={isLoggedIn:!1,userObj:{}};var Je=m.a.mark(Xe);function Xe(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.all)([H(),ve(),De()]);case 2:case"end":return e.stop()}}),Je)}var Qe=Object(Ge.combineReducers)({userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:case T:case P:return e;case R:return{isLoggedIn:!0,userObj:t.user};case A:return{isLoggedIn:!1,useObj:{}};default:return e}},moneyInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ve,t=arguments.length>1?arguments[1]:void 0;return t.type,e},wishInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:case ue:case le:case je:return e;case de:return{wishList:t.wishList};case be:return{actionObj:{isSucceeded:!0,msg:t.msg,id:"",type:t.actionType}};case he:return{actionObj:{isSucceeded:!1,msg:t.msg,id:"",type:t.actionType}};default:return e}},incomeInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:default:return e}}}),Ze=Object(qe.default)(),$e=Object(Ge.createStore)(Qe,Object(Ke.composeWithDevTools)(Object(Ge.applyMiddleware)(Ze)));Ze.run(Xe),a.a.render(Object(_.jsx)(o.a,{store:$e,children:Object(_.jsx)(Fe,{})}),document.getElementById("root"))}},[[135,1,2]]]);
//# sourceMappingURL=main.941d9fda.chunk.js.map