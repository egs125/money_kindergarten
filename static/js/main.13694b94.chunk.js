(this.webpackJsonpmoney_kindergarten=this.webpackJsonpmoney_kindergarten||[]).push([[0],{133:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(16),a=n.n(c),s=n(57),i=n(21),o=n(22),u=n(29),j=n(166),l=n(173),b=n(174),d=n(175),O=n(170),h=n(171),f=n(172),p=n(13),m=n.n(p),x=n(14),v=n(70),g=(n(110),n(135),n(87)),w=n.n(g),y=v.a.initializeApp({apiKey:"AIzaSyAzs6Ms1RqbTIvU7tfEGRm-7_RUP9VhE0Y",authDomain:"money-kindergarten.firebaseapp.com",projectId:"money-kindergarten",storageBucket:"money-kindergarten.appspot.com",messagingSenderId:"460149110475",appId:"1:460149110475:web:08e53c9599433a04fd8d4e"}),k=(v.a,v.a.firestore()),I=new w.a(y),L=m.a.mark(z),E=m.a.mark(B),S=m.a.mark(M),C=m.a.mark(U),N="userInfo/REGISTER",P="userInfo/LOGIN",R="userInfo/LOGOUT",A="userInfo/SET_USER_LOGIN",T="userInfo/SET_USER_LOGOUT",Y=function(e){return{type:P,obj:e}};function z(e){var t,n,r,c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.obj,n=t.email,r=t.password,a.next=4,Object(x.call)(I.auth.createUserWithEmailAndPassword,n,r);case 4:return c=a.sent,a.next=7,Object(x.put)({type:A,user:c});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),L,null,[[0,9]])}function B(e){var t,n,r,c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.obj,n=t.email,r=t.password,a.next=4,Object(x.call)(I.auth.signInWithEmailAndPassword,n,r);case 4:return c=a.sent,a.next=7,Object(x.put)({type:A,user:c});case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0);case 12:case"end":return a.stop()}}),E,null,[[0,9]])}function M(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(x.call)(I.auth.signOut);case 3:return e.next=5,Object(x.put)({type:T});case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),S,null,[[0,7]])}function U(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.takeEvery)(N,z);case 2:return e.next=4,Object(x.takeEvery)(P,B);case 4:return e.next=6,Object(x.takeEvery)(R,M);case 6:case"end":return e.stop()}}),C)}var _={isLoggedIn:!1,userObj:{}};var W=n(3),D=function(){var e=Object(i.g)(),t=Object(o.b)(),n=Object(r.useState)(!1),c=Object(u.a)(n,2),a=c[0],s=c[1],p=Object(o.c)((function(e){return{isLoggedIn:e.userInfo.isLoggedIn}})).isLoggedIn,m=function(){s(!a)},x=function(t){m(),e.push("/".concat(t))};return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("nav",{className:"nav-container",children:[p?Object(W.jsx)(j.a,{onClick:m,children:a?Object(W.jsx)(O.a,{}):Object(W.jsx)(h.a,{})}):Object(W.jsx)(j.a,{children:Object(W.jsx)(f.a,{})}),Object(W.jsx)("span",{className:"app-title",children:"\uc7ac\ub9b0\uc774 \uc720\uce58\uc6d0"})]}),a&&Object(W.jsx)("div",{className:"nav-drawer",children:Object(W.jsxs)(l.a,{children:[Object(W.jsx)(b.a,{button:!0,onClick:function(){return x("")},children:Object(W.jsx)("span",{children:"\uc694\uc57d"})}),Object(W.jsx)(b.a,{button:!0,onClick:function(){return x("wishList")},children:Object(W.jsx)("span",{children:"\uc7a5\ubc14\uad6c\ub2c8"})}),Object(W.jsx)(b.a,{button:!0,onClick:function(){return x("expense")},children:Object(W.jsx)("span",{children:"\uc9c0\ucd9c"})}),Object(W.jsx)(b.a,{button:!0,className:"nav-drawer-last-item",onClick:function(){return x("income")},children:Object(W.jsx)("span",{children:"\uc218\uc785"})}),p&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(d.a,{}),Object(W.jsx)(b.a,{button:!0,onClick:function(){m(),t({type:R})},children:Object(W.jsx)("span",{children:"\ub85c\uadf8\uc544\uc6c3"})})]})]})})]})},F=function(e){Object(o.b)();var t=Object(o.c)((function(e){return{isLoggedIn:e.userInfo.isLoggedIn,userObj:e.userInfo.userObj}}));t.isLoggedIn,t.userObj;return Object(W.jsx)("div",{children:"Home!"})},G=n(183),H=n(181),q=n(180),K=n(179),V=n(176),J=n(177),Q=function(e){var t=e.isOnRegister,n=e.email,r=e.password,c=e.toggleRegisterProcess,a=e.onChangeValue,s=e.onPressKey,i=e.handleLogin,o=e.onClickRegisterBtn;return Object(W.jsxs)("div",{className:"auth-container",children:[Object(W.jsxs)("div",{className:"icon-area",children:[Object(W.jsx)(V.a,{fontSize:"large"}),Object(W.jsx)(J.a,{fontSize:"large"}),Object(W.jsx)(V.a,{fontSize:"large"})]}),Object(W.jsxs)("div",{className:"input-area",children:[Object(W.jsx)(q.a,{name:"email",type:"text",label:"Email address",required:!0,value:n,onChange:a,onKeyPress:s}),Object(W.jsx)(q.a,{id:"password",name:"password",type:"password",label:"password",required:!0,value:r,onChange:a,onKeyPress:s})]}),Object(W.jsxs)("div",{className:"btn-area",children:[Object(W.jsx)(K.a,{variant:"contained",color:"primary",size:"large",onClick:t?o:i,children:t?"\uc2e0\uaddc \ub4f1\ub85d":"\ub85c\uadf8\uc778"}),Object(W.jsx)("div",{className:"spacing-area"}),Object(W.jsx)(K.a,{variant:"contained",color:"success",size:"large",onClick:c,children:t?"\ucde8\uc18c":"\uacc4\uc815 \uc0dd\uc131"})]})]})},X=function(){var e=Object(o.b)(),t=Object(r.useState)(!1),n=Object(u.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(""),i=Object(u.a)(s,2),j=i[0],l=i[1],b=Object(r.useState)(""),d=Object(u.a)(b,2),O=d[0],h=d[1],f=Object(r.useState)(!1),p=Object(u.a)(f,2),m=p[0],x=p[1],v=Object(r.useState)(""),g=Object(u.a)(v,2),w=g[0],y=g[1],k=function(t){return e(function(e){return{type:N,obj:e}}(t))},I=function(){return x(!m)},L=function(){var e=!0;return""===j?(y("\uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"),I(),e=!1):""===O&&(y("\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"),I(),e=!1),e},E=function(){L()&&e(Y({email:j,password:O}))};return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(Q,{isOnRegister:c,email:j,password:O,toggleRegisterProcess:function(){return a(!c)},onChangeValue:function(e){var t=e.target,n=t.name,r=t.value;"email"===n?l(r):"password"===n&&h(r)},onPressKey:function(e){var t=e.charCode,n=e.target.name;if(13===t)if("email"===n){var r=document.querySelector("#password");r&&r.focus()}else"password"===n&&E()},handleLogin:E,onClickRegisterBtn:function(){L()&&k({email:j,password:O})}}),Object(W.jsx)(G.a,{open:m,autoHideDuration:3e3,onClose:I,children:Object(W.jsx)(H.a,{severity:"error",elevation:6,variant:"filled",children:w})})]})},Z=n(56),$=n.n(Z),ee=n(93),te=n(77),ne=n(38),re=m.a.mark(fe),ce=m.a.mark(pe),ae=m.a.mark(me),se=m.a.mark(xe),ie=m.a.mark(ve),oe="wishInfo/REGISTER",ue="wishInfo/READ",je="wishInfo/DELETE",le="wishInfo/UPDATE",be="wishList/SET_WISH_LIST",de="wishList/SUCCESS",Oe="wishList/FAIL",he=function(e){return{type:oe,obj:e}};function fe(e){var t,n,r,c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.obj,n=t.userEmail,r=t.item,c=t.curYm,a.next=4,Object(x.call)(Object(te.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.collection("wishlists").doc(n).collection(c).add(r).then((function(e){return e})).catch((function(e){return console.log(e),null})));case 1:case"end":return e.stop()}}),e)}))));case 4:if(!a.sent){a.next=10;break}return a.next=8,Object(x.put)({type:de,msg:"\ub4f1\ub85d\ud588\uc2b5\ub2c8\ub2e4!"});case 8:a.next=10;break;case 10:a.next=15;break;case 12:a.prev=12,a.t0=a.catch(0),console.log(a.t0);case 15:case"end":return a.stop()}}),re,null,[[0,12]])}function pe(e){var t,n,r;return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.userEmail,n=e.month,c.next=4,Object(x.call)(Object(te.a)(m.a.mark((function e(){var r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("wishlists").doc(t).collection(n).get();case 2:if(r=e.sent,!(c=r.docs)){e.next=6;break}return e.abrupt("return",c.map((function(e){if(e.exists)return Object(ne.a)({id:e.id},e.data())})));case 6:case"end":return e.stop()}}),e)}))));case 4:return r=c.sent,c.next=7,Object(x.put)({type:be,wishList:r});case 7:c.next=12;break;case 9:c.prev=9,c.t0=c.catch(0),console.log(c.t0);case 12:case"end":return c.stop()}}),ce,null,[[0,9]])}function me(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{console.log(e)}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),ae)}function xe(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{console.log(e)}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),se)}function ve(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.takeEvery)(oe,fe);case 2:return e.next=4,Object(x.takeEvery)(ue,pe);case 4:return e.next=6,Object(x.takeEvery)(je,me);case 6:return e.next=8,Object(x.takeEvery)(le,xe);case 8:case"end":return e.stop()}}),ie)}var ge={wishList:[],isSucceeded:!1,msg:""};var we=n(92),ye=n.n(we),ke=function(e){var t=e.movePage;return Object(W.jsx)("div",{className:"floating-btn",onClick:t,children:Object(W.jsx)(ye.a,{color:"primary",style:{fontSize:50}})})};function Ie(e){var t="";return e&&(t="0"===e.substr(0,1)?e.substr(1,1):e),t}function Le(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var Ee=function(e){var t=e.item,n=e.actionHandler;return Object(W.jsx)("div",Object(ne.a)(Object(ne.a)({className:"wish-item"},n),{},{children:"".concat(t.itemName,", ").concat(Le(t.itemPrice),"\uc6d0")}))},Se=function(e){var t=e.curMonth,n=e.totalWishAmount,r=e.curWishList,c=e.actionHandler;return Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)("div",{className:"page-title",children:[Ie(t),"\uc6d4 \uc7a5\ubc14\uad6c\ub2c8"]}),Object(W.jsxs)("div",{className:"total-amount",children:[Le(n),"\uc6d0"]}),Array.isArray(r)&&r.map((function(e,t){return Object(W.jsx)(Ee,{item:e,actionHandler:c},t)}))]})},Ce=function(){var e=Object(i.g)(),t=Object(o.b)(),n=Object(o.c)((function(e){return{userObj:e.userInfo.userObj,wishList:e.wishInfo.wishList}})),c=n.userObj,a=n.wishList,s=$()().format("YYYY"),j=$()().format("MM"),l=Object(r.useState)([]),b=Object(u.a)(l,2),d=b[0],O=b[1],h=Object(r.useState)(0),f=Object(u.a)(h,2),p=f[0],m=f[1],x=Object(ee.useSwipeable)({onTap:function(e){return console.log(e)},onSwipedLeft:function(e){return console.log(e)}});return Object(r.useEffect)((function(){var e;t((e={userEmail:c.user.email,month:$()().format("".concat(s,"-").concat(j))},Object(ne.a)({type:ue},e)))}),[c]),Object(r.useEffect)((function(){var e=Array.isArray(a)?a.reduce((function(e,t){return e+t.itemPrice}),0):0;O(a),m(e)}),[a]),Object(W.jsxs)("div",{className:"child-container",children:[Object(W.jsx)(Se,{curMonth:j,totalWishAmount:p,curWishList:d,actionHandler:x}),Object(W.jsx)(ke,{movePage:function(){e.push({pathname:"/add",state:{type:"wishList",actionType:"add"}})}})]})},Ne=m.a.mark(Ae),Pe=m.a.mark(Te),Re="income/READ";function Ae(e){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{console.log(e)}catch(n){console.log(n)}case 1:case"end":return t.stop()}}),Ne)}function Te(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.takeEvery)(Re,Ae);case 2:case"end":return e.stop()}}),Pe)}var Ye={incomeObj:{}};var ze=function(){var e=Object(o.b)();return Object(r.useEffect)((function(){e(Y())}),[]),Object(W.jsx)("div",{children:"income"})},Be=function(){return Object(W.jsx)("div",{children:"Expense"})},Me=n(68),Ue=function(e){var t=e.item,n=e.onChangeItem,r=e.onClickPrevBtn,c=e.onClickSubmitBtn;return Object(W.jsxs)("div",{children:[Object(W.jsxs)("div",{className:"item-detail",children:[Object(W.jsx)(q.a,{required:!0,name:"itemName",label:"\ud488\ubaa9\uba85",value:t.itemName,onChange:n}),Object(W.jsx)(q.a,{required:!0,name:"itemPrice",label:"\uae08\uc561",value:t.itemPrice,onChange:n}),Object(W.jsx)(q.a,{name:"priority",label:"\uc6b0\uc120\uc21c\uc704",value:t.priority,onChange:n}),Object(W.jsx)(q.a,{name:"remark",label:"\ube44\uace0",value:t.remark,onChange:n})]}),Object(W.jsxs)("div",{className:"item-btn-area",children:[Object(W.jsx)(K.a,{variant:"contained",onClick:r,children:"\ub3cc\uc544\uac00\uae30"}),Object(W.jsx)(K.a,{variant:"contained",color:"primary",onClick:c,children:"\uc800\uc7a5"})]})]})},_e=function(){var e=Object(o.b)(),t=Object(i.h)(),n=Object(i.g)(),c=t.state,a=c.type,s=c.actionType,j=Object(o.c)((function(e){return{userObj:e.userInfo.userObj}})).userObj,l=Object(r.useState)({priority:"",itemName:"",itemPrice:0,remark:""}),b=Object(u.a)(l,2),d=b[0],O=b[1],h=$()().format("YYYY-MM"),f=function(){var e="",t=new Map([["add",he]]);switch(a){case"wishList":e=t.get(s)}return e},p=function(){var e={};switch(a){case"wishList":"add"===s&&(e={userEmail:j.user.email,item:d,curYm:h})}return e};return Object(W.jsxs)("div",{className:"child-container",children:[Object(W.jsx)("div",{className:"page-title",children:function(){var e="",t="";switch(a){case"wishList":e="\uc7a5\ubc14\uad6c\ub2c8"}switch(s){case"add":t="\ucd94\uac00"}return"".concat(e," ").concat(t)}()}),Object(W.jsx)(Ue,{item:d,onChangeItem:function(e){var t=e.target,n=t.name,r=t.value;switch(n){case"priority":case"itemPrice":r=Number(r.replace(/[^0-9]/gi,""))}O(Object(ne.a)(Object(ne.a)({},d),{},Object(Me.a)({},n,r)))},onClickPrevBtn:function(){n.push("/".concat(a))},onClickSubmitBtn:function(){var t=f(),n=p();e(t(n))}})]})},We=function(){var e=Object(o.c)((function(e){return{isLoggedIn:e.userInfo.isLoggedIn}})).isLoggedIn;return Object(W.jsxs)(s.a,{children:[Object(W.jsx)(D,{}),Object(W.jsx)(i.d,{children:e?Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(i.b,{exact:!0,path:"/",children:Object(W.jsx)(F,{})}),Object(W.jsx)(i.b,{exact:!0,path:"/wishList",children:Object(W.jsx)(Ce,{})}),Object(W.jsx)(i.b,{exact:!0,path:"/income",children:Object(W.jsx)(ze,{})}),Object(W.jsx)(i.b,{exact:!0,path:"/expense",children:Object(W.jsx)(Be,{})}),Object(W.jsx)(i.b,{exact:!0,path:"/add",children:Object(W.jsx)(_e,{})})]}):Object(W.jsxs)(W.Fragment,{children:[Object(W.jsx)(i.b,{exact:!0,path:"/",children:Object(W.jsx)(X,{})}),Object(W.jsx)(i.a,{to:{pathname:"/"}})]})})]})};n(133);var De=function(){return Object(W.jsx)("div",{children:Object(W.jsx)(We,{})})},Fe=n(42),Ge=n(48),He=n(94);var qe={isLoggedIn:!1,userObj:{}};var Ke=m.a.mark(Ve);function Ve(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.all)([U(),ve(),Te()]);case 2:case"end":return e.stop()}}),Ke)}var Je=Object(Fe.combineReducers)({userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:case P:case R:return e;case A:return{isLoggedIn:!0,userObj:t.user};case T:return{isLoggedIn:!1,useObj:{}};default:return e}},moneyInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe,t=arguments.length>1?arguments[1]:void 0;return t.type,e},wishInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:case ue:case je:case le:return e;case be:return{wishList:t.wishList};case de:return{isSucceeded:!0,msg:t.msg};case Oe:default:return e}},incomeInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Re:default:return e}}}),Qe=Object(Ge.default)(),Xe=Object(Fe.createStore)(Je,Object(He.composeWithDevTools)(Object(Fe.applyMiddleware)(Qe)));Qe.run(Ve),a.a.render(Object(W.jsx)(o.a,{store:Xe,children:Object(W.jsx)(De,{})}),document.getElementById("root"))}},[[134,1,2]]]);
//# sourceMappingURL=main.13694b94.chunk.js.map