(this.webpackJsonpmoney_kindergarten=this.webpackJsonpmoney_kindergarten||[]).push([[0],{133:function(e,t,n){},134:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(16),a=n.n(r),s=n(48),i=n(23),o=n(21),u=n(19),l=n(166),j=n(173),b=n(174),d=n(175),h=n(170),m=n(171),p=n(172),O=n(8),f=n.n(O),x=n(7),g=n(73),v=(n(110),n(135),n(87)),w=n.n(v),y=g.a.initializeApp({apiKey:"AIzaSyAzs6Ms1RqbTIvU7tfEGRm-7_RUP9VhE0Y",authDomain:"money-kindergarten.firebaseapp.com",projectId:"money-kindergarten",storageBucket:"money-kindergarten.appspot.com",messagingSenderId:"460149110475",appId:"1:460149110475:web:08e53c9599433a04fd8d4e"}),k=(g.a,g.a.firestore()),E=new w.a(y),I=f.a.mark(U),L=f.a.mark(F),S=f.a.mark(z),M=f.a.mark(G),N=f.a.mark(H),C="userInfo/REGISTER",T="userInfo/LOGIN",Y="userInfo/LOGOUT",A="userInfo/SET_USER_LOGIN",P="userInfo/SET_USER_LOGOUT",R="userInfo/FAIL",_="userInfo/FAIL_ON_VALIDATION",B="userInfo/SET_ERROR_MSG",D=function(e){return{type:B,msg:e}};function U(e){var t,n,c,r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.obj,n=t.email,c=t.password,a.next=4,Object(x.call)(E.auth.createUserWithEmailAndPassword,n,c);case 4:return r=a.sent,a.next=7,Object(x.put)({type:A,user:r});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(x.put)({type:R,msg:a.t0.message});case 13:case"end":return a.stop()}}),I,null,[[0,9]])}function F(e){var t,n,c,r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.obj,n=t.email,c=t.password,a.next=4,Object(x.call)(E.auth.signInWithEmailAndPassword,n,c);case 4:return r=a.sent,a.next=7,Object(x.put)({type:A,user:r});case 7:a.next=13;break;case 9:return a.prev=9,a.t0=a.catch(0),a.next=13,Object(x.put)({type:R,msg:a.t0.message});case 13:case"end":return a.stop()}}),L,null,[[0,9]])}function z(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(x.call)(E.auth.signOut);case 3:return e.next=5,Object(x.put)({type:P});case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(x.put)({type:R,msg:e.t0.message});case 11:case"end":return e.stop()}}),S,null,[[0,7]])}function G(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.put)({type:_,msg:e.msg});case 2:case"end":return t.stop()}}),M)}function H(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.takeEvery)(C,U);case 2:return e.next=4,Object(x.takeEvery)(T,F);case 4:return e.next=6,Object(x.takeEvery)(Y,z);case 6:return e.next=8,Object(x.takeEvery)(B,G);case 8:case"end":return e.stop()}}),N)}var W={isLoggedIn:!1,userObj:{},authMsg:{msg:"",isError:!1}};var q=n(3),X=function(){var e=Object(i.g)(),t=Object(o.b)(),n=Object(c.useState)(!1),r=Object(u.a)(n,2),a=r[0],s=r[1],O=Object(o.c)((function(e){return{isLoggedIn:e.userInfo.isLoggedIn}})).isLoggedIn,f=function(){s(!a)},x=function(t){f(),e.push("/".concat(t))};return Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)("nav",{className:"nav-container",children:[O?Object(q.jsx)(l.a,{onClick:f,children:a?Object(q.jsx)(h.a,{}):Object(q.jsx)(m.a,{})}):Object(q.jsx)(l.a,{children:Object(q.jsx)(p.a,{})}),Object(q.jsx)("span",{className:"app-title",children:"\uc7ac\ub9b0\uc774 \uc720\uce58\uc6d0"})]}),a&&Object(q.jsx)("div",{className:"nav-drawer",children:Object(q.jsxs)(j.a,{children:[Object(q.jsx)(b.a,{button:!0,onClick:function(){return x("")},children:Object(q.jsx)("span",{children:"\uc694\uc57d"})}),Object(q.jsx)(b.a,{button:!0,onClick:function(){return x("wishList")},children:Object(q.jsx)("span",{children:"\uc7a5\ubc14\uad6c\ub2c8"})}),Object(q.jsx)(b.a,{button:!0,onClick:function(){return x("expense")},children:Object(q.jsx)("span",{children:"\uc9c0\ucd9c"})}),Object(q.jsx)(b.a,{button:!0,className:"nav-drawer-last-item",onClick:function(){return x("income")},children:Object(q.jsx)("span",{children:"\uc218\uc785"})}),O&&Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(d.a,{}),Object(q.jsx)(b.a,{button:!0,onClick:function(){f(),t({type:Y})},children:Object(q.jsx)("span",{children:"\ub85c\uadf8\uc544\uc6c3"})})]})]})})]})},K=n(24),V=n.n(K),J=function(){Object(o.b)();var e=Object(o.c)((function(e){return{userObj:e.userInfo.userObj,wishList:e.wishInfo.wishList}}));e.userObj,e.wishList;return Object(q.jsx)("div",{children:"Home!"})},Q=n(183),Z=n(179),$=n(176),ee=n(177),te=function(e){var t=e.isOnRegister,n=e.email,c=e.password,r=e.toggleRegisterProcess,a=e.onChangeValue,s=e.onPressKey,i=e.handleLogin,o=e.onClickRegisterBtn;return Object(q.jsxs)("div",{className:"auth-container",children:[Object(q.jsxs)("div",{className:"icon-area",children:[Object(q.jsx)($.a,{fontSize:"large"}),Object(q.jsx)(ee.a,{fontSize:"large"}),Object(q.jsx)($.a,{fontSize:"large"})]}),Object(q.jsxs)("div",{className:"input-area",children:[Object(q.jsx)(Q.a,{name:"email",type:"text",label:"Email address",required:!0,value:n,onChange:a,onKeyPress:s}),Object(q.jsx)(Q.a,{id:"password",name:"password",type:"password",label:"password",required:!0,value:c,onChange:a,onKeyPress:s})]}),Object(q.jsxs)("div",{className:"btn-area",children:[Object(q.jsx)(Z.a,{variant:"contained",color:"primary",size:"large",onClick:t?o:i,children:t?"\uc2e0\uaddc \ub4f1\ub85d":"\ub85c\uadf8\uc778"}),Object(q.jsx)("div",{className:"spacing-area"}),Object(q.jsx)(Z.a,{variant:"contained",color:"default",size:"large",onClick:r,children:t?"\ucde8\uc18c":"\uacc4\uc815 \uc0dd\uc131"})]})]})},ne=function(){var e=Object(o.b)(),t=Object(c.useState)(!1),n=Object(u.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),i=Object(u.a)(s,2),l=i[0],j=i[1],b=Object(c.useState)(""),d=Object(u.a)(b,2),h=d[0],m=d[1],p=function(t){return e(function(e){return{type:C,obj:e}}(t))},O=function(t){return e(function(e){return{type:T,obj:e}}(t))},f=function(){var t=!0;return""===l?(e(D("\uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694")),t=!1):""===h&&(e(D("\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694")),t=!1),t},x=function(){f()&&O({email:l,password:h})};return Object(q.jsx)(q.Fragment,{children:Object(q.jsx)(te,{isOnRegister:r,email:l,password:h,toggleRegisterProcess:function(){return a(!r)},onChangeValue:function(e){var t=e.target,n=t.name,c=t.value;"email"===n?j(c):"password"===n&&m(c)},onPressKey:function(e){var t=e.charCode,n=e.target.name;if(13===t)if("email"===n){var c=document.querySelector("#password");c&&c.focus()}else"password"===n&&x()},handleLogin:x,onClickRegisterBtn:function(){f()&&p({email:l,password:h})}})})},ce=n(93),re=n(38),ae=n(31),se=f.a.mark(ve),ie=f.a.mark(we),oe=f.a.mark(ye),ue=f.a.mark(ke),le=f.a.mark(Ee),je="wishInfo/READ",be="wishInfo/REGISTER",de="wishInfo/DELETE",he="wishInfo/UPDATE",me="wishList/SET_WISH_LIST",pe="wishList/SUCCESS",Oe="wishList/FAIL",fe=function(e){return Object(ae.a)({type:je},e)},xe=function(e){return{type:be,obj:e}},ge=function(e){return{type:he,obj:e}};function ve(e){var t,n,c;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.userEmail,n=e.month,r.next=4,Object(x.call)(Object(re.a)(f.a.mark((function e(){var c,r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("wishlists").doc(t).collection(n).orderBy("priority","asc").get();case 2:if(c=e.sent,!(r=c.docs)){e.next=8;break}return a=[],r.forEach((function(e){e.exists&&a.push(Object(ae.a)({id:e.id},e.data()))})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)}))));case 4:return c=r.sent,r.next=7,Object(x.put)({type:me,wishList:c,month:n});case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0);case 12:case"end":return r.stop()}}),se,null,[[0,9]])}function we(e){var t,n,c,r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.obj,n=t.userEmail,c=t.item,r=t.curYm,a.next=4,Object(x.call)(Object(re.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.collection("wishlists").doc(n).collection(r).add(c).then((function(e){return e})).catch((function(e){return console.log(e),null})));case 1:case"end":return e.stop()}}),e)}))));case 4:if(!a.sent){a.next=10;break}return a.next=8,Object(x.put)({type:pe,msg:"\ub4f1\ub85d\ud588\uc2b5\ub2c8\ub2e4!"});case 8:a.next=12;break;case 10:return a.next=12,Object(x.put)({type:Oe,msg:"\ucc98\ub9ac\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."});case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.log(a.t0);case 17:case"end":return a.stop()}}),ie,null,[[0,14]])}function ye(e){var t,n,c,r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.obj,n=t.userEmail,c=t.month,r=t.id,a.next=4,Object(x.call)(Object(re.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.collection("wishlists").doc(n).collection(c).doc(r).delete().then((function(){return!0})).catch((function(e){return console.log(e),!1})));case 1:case"end":return e.stop()}}),e)}))));case 4:if(!a.sent){a.next=12;break}return a.next=8,Object(x.put)({type:pe,msg:"\uc0ad\uc81c\ud588\uc2b5\ub2c8\ub2e4!"});case 8:return a.next=10,Object(x.put)({type:je,userEmail:n,month:c});case 10:a.next=14;break;case 12:return a.next=14,Object(x.put)({type:Oe,msg:"\ucc98\ub9ac\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."});case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(0),console.log(a.t0);case 19:case"end":return a.stop()}}),oe,null,[[0,16]])}function ke(e){var t,n,c,r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.obj,n=t.userEmail,c=t.item,r=t.curYm,a.next=4,Object(x.call)(Object(re.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.collection("wishlists").doc(n).collection(r).doc(c.id).update(Object(ae.a)({},c)).then((function(){return!0})).catch((function(e){return console.log(e),!1})));case 1:case"end":return e.stop()}}),e)}))));case 4:if(!a.sent){a.next=10;break}return a.next=8,Object(x.put)({type:pe,msg:"\uc218\uc815\ud588\uc2b5\ub2c8\ub2e4!"});case 8:a.next=12;break;case 10:return a.next=12,Object(x.put)({type:Oe,msg:"\ucc98\ub9ac\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."});case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.log(a.t0);case 17:case"end":return a.stop()}}),ue,null,[[0,14]])}function Ee(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.takeEvery)(be,we);case 2:return e.next=4,Object(x.takeEvery)(je,ve);case 4:return e.next=6,Object(x.takeEvery)(de,ye);case 6:return e.next=8,Object(x.takeEvery)(he,ke);case 8:case"end":return e.stop()}}),le)}var Ie={wishList:[],wishMsg:{msg:"",isError:!1},called:""};function Le(e){var t="";return e&&(t="0"===e.substr(0,1)?e.substr(1,1):e),t}function Se(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var Me=n(92),Ne=n.n(Me),Ce=function(e){var t=e.movePage;return Object(q.jsx)("div",{className:"floating-btn",onClick:t,children:Object(q.jsx)(Ne.a,{color:"primary",style:{fontSize:50}})})},Te=n(180),Ye=function(e){var t=e.curWishList,n=e.actionHandler,c=e.showDelBtn,r=e.deleteWishList,a=e.onEventHandler;return Object(q.jsx)(q.Fragment,{children:Object(q.jsx)("div",{className:"item-list-container",children:Array.isArray(t)&&t.map((function(e,t){return Object(q.jsxs)("div",{id:e.id,className:"item-info-container",children:[Object(q.jsxs)("div",Object(ae.a)(Object(ae.a)({className:"item-info".concat(c===e.id?"-deletable":""),draggable:!0,onTouchStart:function(t){return a(t,e.id)},onTouchEnd:function(t){return a(t,e.id)}},n),{},{children:[Object(q.jsx)("div",{children:e.itemName}),Object(q.jsx)("div",{children:"".concat(Se(e.itemPrice),"\uc6d0")})]})),c&&c===e.id&&Object(q.jsx)("div",{className:"icon",children:Object(q.jsx)(l.a,{onClick:function(){return r(e.id)},children:Object(q.jsx)(Te.a,{})})})]},t)}))})})},Ae=n(181),Pe=n(182),Re=function(){var e=Object(i.g)(),t=Object(i.h)(),n=Object(o.b)(),r=Object(o.c)((function(e){return{userObj:e.userInfo.userObj,wishList:e.wishInfo.wishList,called:e.wishInfo.called}})),a=r.userObj,s=r.wishList,j=r.called,b=Object(c.useState)(V()().format("YYYY")),d=Object(u.a)(b,2),h=d[0],m=d[1],p=Object(c.useState)(V()().format("MM")),O=Object(u.a)(p,2),f=O[0],x=O[1],g=Object(c.useState)([]),v=Object(u.a)(g,2),w=v[0],y=v[1],k=Object(c.useState)(0),E=Object(u.a)(k,2),I=E[0],L=E[1],S=Object(c.useState)(!1),M=Object(u.a)(S,2),N=M[0],C=M[1],T=Object(c.useState)({x:"",y:""}),Y=Object(u.a)(T,2),A=Y[0],P=Y[1],R=function(e){var t="";t="prev"===e?V()("".concat(h,"-").concat(f)).subtract(1,"months"):V()("".concat(h,"-").concat(f)).add(1,"months"),m(V()(t).format("YYYY")),x(V()(t).format("MM"))},_=Object(ce.useSwipeable)({onTap:function(e){return console.log(e)},onSwipedLeft:function(e){return console.log(e)}}),B=Object(c.useCallback)((function(){n(fe({userEmail:a.user.email,month:V()().format("".concat(h,"-").concat(f))}))}),[h,f,a.user.email]),D=Object(c.useCallback)((function(){var e=Array.isArray(s)?s.reduce((function(e,t){return e+t.itemPrice}),0):0;y(s),L(e)}),[s]),U=function(){""===j||j!=="".concat(h,"-").concat(f)?B():D()};return Object(c.useEffect)((function(){if(t&&t.state&&t.state.targetMonth){var c=t.state.targetMonth.split("-"),r=c[0],s=c[1];e.replace({state:void 0}),r!==h||s!==f?(m(r),x(s),n(fe({userEmail:a.user.email,month:V()().format("".concat(r,"-").concat(s))}))):U()}else U()}),[f,t]),Object(c.useEffect)((function(){D()}),[s]),Object(q.jsxs)("div",{className:"child-container",children:[Object(q.jsxs)("div",{className:"selected-month-box",children:[Object(q.jsx)("div",{className:"vertical-empty-space"}),Object(q.jsxs)("div",{className:"selected-month-info-box",children:[Object(q.jsx)(l.a,{onClick:function(){return R("prev")},children:Object(q.jsx)(Ae.a,{})}),Object(q.jsxs)("div",{className:"selected-month-texts",children:[Object(q.jsxs)("div",{className:"title",children:[Le(f),"\uc6d4 \uc7a5\ubc14\uad6c\ub2c8"]}),Object(q.jsxs)("div",{className:"amount",children:[Se(I),"\uc6d0"]})]}),Object(q.jsx)(l.a,{id:"next",onClick:function(){return R("next")},children:Object(q.jsx)(Pe.a,{})})]})]}),Object(q.jsx)(Ye,{curWishList:w,actionHandler:_,showDelBtn:N,deleteWishList:function(e){var t;n((t={userEmail:a.user.email,month:V()().format("".concat(h,"-").concat(f)),id:e},{type:de,obj:t}))},onEventHandler:function(t,n){switch(t.type){case"touchstart":P({x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY});break;case"touchend":var c=t.changedTouches[0].pageX,r=t.changedTouches[0].pageY;if(A.x===c&&A.y===r)N===n?function(t){var n=Array.isArray(w)&&w.find((function(e){return e.id===t}));n&&e.push({pathname:"/add",state:{type:"wishList",actionType:"update",targetItem:n,targetMonth:"".concat(h,"-").concat(f)}})}(n):(C(""),P({x:"",y:""}));else{var a=Math.abs(A.x-t.changedTouches[0].pageX),s=Math.abs(A.y-t.changedTouches[0].pageY);C(a>s&&N!==n?n:""),P({x:"",y:""})}}}}),Object(q.jsx)(Ce,{movePage:function(){e.push({pathname:"/add",state:{type:"wishList",actionType:"add",targetMonth:"".concat(h,"-").concat(f)}})}})]})},_e=f.a.mark(Je),Be=f.a.mark(Qe),De=f.a.mark(Ze),Ue=f.a.mark($e),Fe=f.a.mark(et),ze="incomeInfo/READ",Ge="incomeInfo/REGISTER",He="incomeInfo/DELETE",We="incomeInfo/UPDATE",qe="incomeInfo/SET_INCOME_LIST",Xe="incomeInfo/SUCCESS",Ke="incomeInfo/FAIL",Ve=function(e){return Object(ae.a)({type:ze},e)};function Je(e){var t,n,c;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.userEmail,n=e.month,r.next=4,Object(x.call)(Object(re.a)(f.a.mark((function e(){var c,r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.collection("incomelists").doc(t).collection(n).orderBy("priority","asc").get();case 2:if(c=e.sent,!(r=c.docs)){e.next=8;break}return a=[],r.forEach((function(e){e.exists&&a.push(Object(ae.a)({id:e.id},e.data()))})),e.abrupt("return",a);case 8:case"end":return e.stop()}}),e)}))));case 4:return c=r.sent,r.next=7,Object(x.put)({type:qe,incomeList:c,month:n});case 7:r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0);case 12:case"end":return r.stop()}}),_e,null,[[0,9]])}function Qe(e){var t,n,c,r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.obj,n=t.userEmail,c=t.item,r=t.curYm,a.next=4,Object(x.call)(Object(re.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.collection("incomelists").doc(n).collection(r).add(c).then((function(e){return e})).catch((function(e){return console.log(e),null})));case 1:case"end":return e.stop()}}),e)}))));case 4:if(!a.sent){a.next=10;break}return a.next=8,Object(x.put)({type:Xe,msg:"\ub4f1\ub85d\ud588\uc2b5\ub2c8\ub2e4!"});case 8:a.next=12;break;case 10:return a.next=12,Object(x.put)({type:Ke,msg:"\ucc98\ub9ac\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."});case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.log(a.t0);case 17:case"end":return a.stop()}}),Be,null,[[0,14]])}function Ze(e){var t,n,c,r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.obj,n=t.userEmail,c=t.month,r=t.id,a.next=4,Object(x.call)(Object(re.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.collection("incomelists").doc(n).collection(c).doc(r).delete().then((function(){return!0})).catch((function(e){return console.log(e),!1})));case 1:case"end":return e.stop()}}),e)}))));case 4:if(!a.sent){a.next=12;break}return a.next=8,Object(x.put)({type:Xe,msg:"\uc0ad\uc81c\ud588\uc2b5\ub2c8\ub2e4!"});case 8:return a.next=10,Object(x.put)({type:ze,userEmail:n,month:c});case 10:a.next=14;break;case 12:return a.next=14,Object(x.put)({type:Ke,msg:"\ucc98\ub9ac\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."});case 14:a.next=19;break;case 16:a.prev=16,a.t0=a.catch(0),console.log(a.t0);case 19:case"end":return a.stop()}}),De,null,[[0,16]])}function $e(e){var t,n,c,r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,t=e.obj,n=t.userEmail,c=t.item,r=t.curYm,a.next=4,Object(x.call)(Object(re.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k.collection("incomelists").doc(n).collection(r).doc(c.id).update(Object(ae.a)({},c)).then((function(){return!0})).catch((function(e){return console.log(e),!1})));case 1:case"end":return e.stop()}}),e)}))));case 4:if(!a.sent){a.next=10;break}return a.next=8,Object(x.put)({type:Xe,msg:"\uc218\uc815\ud588\uc2b5\ub2c8\ub2e4!"});case 8:a.next=12;break;case 10:return a.next=12,Object(x.put)({type:Ke,msg:"\ucc98\ub9ac\ud558\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4."});case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),console.log(a.t0);case 17:case"end":return a.stop()}}),Ue,null,[[0,14]])}function et(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.takeEvery)(Ge,Qe);case 2:return e.next=4,Object(x.takeEvery)(ze,Je);case 4:return e.next=6,Object(x.takeEvery)(He,Ze);case 6:return e.next=8,Object(x.takeEvery)(We,$e);case 8:case"end":return e.stop()}}),Fe)}var tt={incomeList:[],incomeMsg:{msg:"",isError:!1},called:""};var nt=function(){return Object(q.jsx)("div",{children:"ddd"})},ct=function(){var e=Object(i.g)(),t=Object(i.h)(),n=Object(o.b)(),r=Object(o.c)((function(e){return{userObj:e.userInfo.userObj,incomeList:e.incomeInfo.incomeList,called:e.incomeInfo.called}})),a=r.userObj,s=r.incomeList,j=r.called,b=Object(c.useState)(V()().format("YYYY")),d=Object(u.a)(b,2),h=d[0],m=d[1],p=Object(c.useState)(V()().format("MM")),O=Object(u.a)(p,2),f=O[0],x=O[1],g=Object(c.useState)([]),v=Object(u.a)(g,2),w=v[0],y=v[1],k=Object(c.useState)(0),E=Object(u.a)(k,2),I=E[0],L=E[1],S=Object(c.useState)(!1),M=Object(u.a)(S,2),N=M[0],C=M[1],T=Object(c.useState)({x:"",y:""}),Y=Object(u.a)(T,2),A=Y[0],P=Y[1],R=function(e){var t="";t="prev"===e?V()("".concat(h,"-").concat(f)).subtract(1,"months"):V()("".concat(h,"-").concat(f)).add(1,"months"),m(V()(t).format("YYYY")),x(V()(t).format("MM"))},_=Object(c.useCallback)((function(){n(Ve({userEmail:a.user.email,month:V()().format("".concat(h,"-").concat(f))}))}),[h,f,a.user.email]),B=Object(c.useCallback)((function(){var e=Array.isArray(s)?s.reduce((function(e,t){return e+t.itemPrice}),0):0;y(s),L(e)}),[s]),D=function(){""===j||j!=="".concat(h,"-").concat(f)?_():B()};return Object(c.useEffect)((function(){if(t&&t.state&&t.state.targetMonth){var c=t.state.targetMonth.split("-"),r=c[0],s=c[1];e.replace({state:void 0}),r!==h||s!==f?(m(r),x(s),n(Ve({userEmail:a.user.email,month:V()().format("".concat(r,"-").concat(s))}))):D()}else D()}),[f,t]),Object(c.useEffect)((function(){B()}),[s]),Object(q.jsxs)("div",{className:"child-container",children:[Object(q.jsxs)("div",{className:"selected-month-box",children:[Object(q.jsx)("div",{className:"vertical-empty-space"}),Object(q.jsxs)("div",{className:"selected-month-info-box",children:[Object(q.jsx)(l.a,{onClick:function(){return R("prev")},children:Object(q.jsx)(Ae.a,{})}),Object(q.jsxs)("div",{className:"selected-month-texts",children:[Object(q.jsxs)("div",{className:"title",children:[Le(f),"\uc6d4 \uc218\uc785"]}),Object(q.jsxs)("div",{className:"amount",children:[Se(I),"\uc6d0"]})]}),Object(q.jsx)(l.a,{id:"next",onClick:function(){return R("next")},children:Object(q.jsx)(Pe.a,{})})]})]}),Object(q.jsx)(nt,{curIncomeList:w,showDelBtn:N,deleteIncomeList:function(e){var t;n((t={userEmail:a.user.email,month:V()().format("".concat(h,"-").concat(f)),id:e},{type:He,obj:t}))},onEventHandler:function(t,n){switch(t.type){case"touchstart":P({x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY});break;case"touchend":var c=t.changedTouches[0].pageX,r=t.changedTouches[0].pageY;if(A.x===c&&A.y===r)N===n?function(t){var n=Array.isArray(w)&&w.find((function(e){return e.id===t}));n&&e.push({pathname:"/add",state:{type:"incomeList",actionType:"update",targetItem:n,targetMonth:"".concat(h,"-").concat(f)}})}(n):(C(""),P({x:"",y:""}));else{var a=Math.abs(A.x-t.changedTouches[0].pageX),s=Math.abs(A.y-t.changedTouches[0].pageY);C(a>s&&N!==n?n:""),P({x:"",y:""})}}}}),Object(q.jsx)(Ce,{movePage:function(){e.push({pathname:"/add",state:{type:"incomeList",actionType:"add",targetMonth:"".concat(h,"-").concat(f)}})}})]})},rt=function(){return Object(q.jsx)("div",{children:"Expense"})},at=n(71),st=function(e){var t=e.item,n=e.onChangeItem,c=e.onClickPrevBtn,r=e.onClickSubmitBtn;return Object(q.jsxs)("div",{className:"item-container",children:[Object(q.jsxs)("div",{className:"item-detail",children:[Object(q.jsx)(Q.a,{required:!0,name:"itemName",label:"\ud488\ubaa9\uba85",value:t.itemName,onChange:n}),Object(q.jsx)(Q.a,{required:!0,name:"itemPrice",label:"\uae08\uc561",value:t.itemPrice,onChange:n}),Object(q.jsx)(Q.a,{name:"priority",label:"\uc6b0\uc120\uc21c\uc704",value:t.priority,onChange:n}),Object(q.jsx)(Q.a,{name:"remark",label:"\ube44\uace0",value:t.remark,onChange:n})]}),Object(q.jsxs)("div",{className:"item-btn-area",children:[Object(q.jsx)(Z.a,{variant:"contained",onClick:c,children:"\ub3cc\uc544\uac00\uae30"}),Object(q.jsx)(Z.a,{variant:"contained",color:"primary",onClick:r,children:"\uc800\uc7a5"})]})]})},it=function(){var e=Object(o.b)(),t=Object(i.h)(),n=Object(i.g)(),r=t.state,a=r.type,s=r.actionType,l=r.targetItem,j=r.targetMonth,b=Object(o.c)((function(e){return{userObj:e.userInfo.userObj}})).userObj,d=Object(c.useState)({priority:"",itemName:"",itemPrice:0,remark:""}),h=Object(u.a)(d,2),m=h[0],p=h[1],O=function(){var e="",t=new Map([["add",xe],["update",ge]]);switch(a){case"wishList":e=t.get(s)}return e},f=function(){var e={};switch(a){case"wishList":e={userEmail:b.user.email,item:m,curYm:j}}return e};return Object(c.useEffect)((function(){l&&p(l)}),[l,j]),Object(q.jsxs)("div",{className:"child-container",children:[Object(q.jsx)("div",{className:"vertical-empty-space"}),Object(q.jsx)("div",{className:"page-title",children:function(){var e="",t="";switch(a){case"wishList":e="\uc7a5\ubc14\uad6c\ub2c8"}switch(s){case"add":t="\ucd94\uac00";break;case"update":t="\uc218\uc815"}return"".concat(e," ").concat(t)}()}),Object(q.jsx)(st,{item:m,onChangeItem:function(e){var t=e.target,n=t.name,c=t.value;switch(n){case"priority":case"itemPrice":c=Number(c.replace(/[^0-9]/gi,""))}p(Object(ae.a)(Object(ae.a)({},m),{},Object(at.a)({},n,c)))},onClickPrevBtn:function(){n.push({pathname:"/".concat(a),state:{targetMonth:j}})},onClickSubmitBtn:function(){var t=O(),n=f();e(t(n))}})]})},ot=n(186),ut=n(184),lt=function(){var e=Object(i.g)(),t=Object(o.c)((function(e){return{isLoggedIn:e.userInfo.isLoggedIn,authMsg:e.userInfo.authMsg,wishMsg:e.wishInfo.wishMsg}})),n=t.isLoggedIn,r=t.authMsg,a=t.wishMsg,s=Object(c.useState)(!1),l=Object(u.a)(s,2),j=l[0],b=l[1],d=Object(c.useState)(""),h=Object(u.a)(d,2),m=h[0],p=h[1],O=Object(c.useState)("error"),f=Object(u.a)(O,2),x=f[0],g=f[1];return Object(c.useEffect)((function(){var t=r.msg,c=r.isError;!n&&"/"===e.location.pathname&&""!==t&&c&&(p(t),b(!0))}),[r.msg]),Object(c.useEffect)((function(){if(a){var e=a.msg,t=a.isError;n&&""!==e&&(p(e),t||g("success"),b(!0))}}),[a,n]),Object(q.jsx)(ot.a,{open:j,autoHideDuration:3e3,onClose:function(){return b(!j)},children:Object(q.jsx)(ut.a,{severity:x,elevation:6,variant:"filled",children:m})})},jt=function(){var e=Object(o.c)((function(e){return{isLoggedIn:e.userInfo.isLoggedIn}})).isLoggedIn;return Object(q.jsxs)(s.a,{basename:"/money_kindergarten",children:[Object(q.jsx)(X,{}),Object(q.jsx)(i.d,{children:e?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(i.b,{exact:!0,path:"/",children:Object(q.jsx)(J,{})}),Object(q.jsx)(i.b,{exact:!0,path:"/wishList",children:Object(q.jsx)(Re,{})}),Object(q.jsx)(i.b,{exact:!0,path:"/income",children:Object(q.jsx)(ct,{})}),Object(q.jsx)(i.b,{exact:!0,path:"/expense",children:Object(q.jsx)(rt,{})}),Object(q.jsx)(i.b,{exact:!0,path:"/add",children:Object(q.jsx)(it,{})}),Object(q.jsx)(lt,{})]}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsxs)(i.b,{exact:!0,path:"/",children:[Object(q.jsx)(ne,{}),Object(q.jsx)(lt,{})]}),Object(q.jsx)(i.a,{to:{pathname:"/"}})]})})]})};n(133);var bt=function(){return Object(q.jsx)("div",{children:Object(q.jsx)(jt,{})})},dt=n(44),ht=n(52),mt=n(94);var pt={isLoggedIn:!1,userObj:{}};var Ot=f.a.mark(ft);function ft(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.all)([H(),Ee(),et()]);case 2:case"end":return e.stop()}}),Ot)}var xt=Object(dt.combineReducers)({userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:case T:case Y:return e;case A:return{isLoggedIn:!0,userObj:t.user,authMsg:{msg:"",isError:!1}};case P:return{isLoggedIn:!1,userObj:{},authMsg:{msg:"",isError:!1}};case R:return{authMsg:{msg:t.msg,isError:!0}};case B:return e;case _:return{authMsg:{msg:t.msg,isError:!0}};default:return e}},moneyInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;return t.type,e},wishInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:case je:case de:case he:return e;case me:return{wishList:t.wishList,called:t.month};case pe:return{wishMsg:{msg:t.msg,isError:!1}};case Oe:return{wishMsg:{msg:t.msg,isError:!0}};default:return e}},incomeInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:case ze:case He:case We:return e;case qe:return{incomeList:t.incomeList,called:t.month};case Xe:return{incomeMsg:{msg:t.msg,isError:!1}};case Ke:return{incomeMsg:{msg:t.msg,isError:!0}};default:return e}}}),gt=Object(ht.default)(),vt=Object(dt.createStore)(xt,Object(mt.composeWithDevTools)(Object(dt.applyMiddleware)(gt)));gt.run(ft),a.a.render(Object(q.jsx)(o.a,{store:vt,children:Object(q.jsx)(bt,{})}),document.getElementById("root"))}},[[134,1,2]]]);
//# sourceMappingURL=main.9dce10aa.chunk.js.map